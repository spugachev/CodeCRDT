{
  "prompt_id": "algorithm_visualizer",
  "prompt_name": "Algorithm Visualizer",
  "mode": "parallel",
  "run_number": 15,
  "timestamp": "2025-10-13T20:31:42.972827",
  "response_time": 114.44346046447754,
  "total_tokens": null,
  "response_content": "import { useState, useCallback } from 'react';import { useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Slider } from '@/components/ui/slider';\nimport { Play, Pause, RotateCcw, Zap, BarChart3 } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\ninterface ArrayElement {\n  value: number;\n  id: string;\n  isComparing?: boolean;\n  isSwapping?: boolean;\n  isSorted?: boolean;\n}\n\ninterface AlgorithmStep {\n  array: ArrayElement[];\n  comparingIndices: number[];\n  swappingIndices: number[];\n  sortedIndices: number[];\n}\n\ntype AlgorithmType = 'bubble' | 'quick' | 'merge' | 'insertion';\n\nconst NEON_COLORS = [\n  '#00ffff',\n  '#ff00ff', \n  '#00ff00',\n  '#ffff00',\n  '#ff0066',\n  '#00ffaa'\n];\n\nconst mockAlgorithms = [\n  { id: 'bubble', name: 'Bubble Sort', complexity: 'O(n\u00b2)' },\n  { id: 'quick', name: 'Quick Sort', complexity: 'O(n log n)' },\n  { id: 'merge', name: 'Merge Sort', complexity: 'O(n log n)' },\n  { id: 'insertion', name: 'Insertion Sort', complexity: 'O(n\u00b2)' }\n];\n\nexport default function AlgorithmVisualizer() {\n  const [array, setArray] = useState<ArrayElement[]>([]);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [speed, setSpeed] = useState([50]);\n  const [arraySize, setArraySize] = useState([20]);\n  const [selectedAlgorithm, setSelectedAlgorithm] = useState<AlgorithmType>('bubble');\n  const [currentStep, setCurrentStep] = useState(0);\n  const [steps, setSteps] = useState<AlgorithmStep[]>([]);\n\n  const generateRandomArray = useCallback(() => {\n    const newArray: ArrayElement[] = Array.from({ length: arraySize[0] }, (_, index) => ({\n      value: Math.floor(Math.random() * 100) + 5,\n      id: `element-${Date.now()}-${index}`,\n      isComparing: false,\n      isSwapping: false,\n      isSorted: false\n    }));\n    \n    setArray(newArray);\n    setSteps([]);\n    setCurrentStep(0);\n    setIsPlaying(false);\n  }, [arraySize]);\n\n  const resetVisualization = useCallback(() => {\n\nsetIsPlaying(false);\n    setCurrentStep(0);\n    setSteps([]);\n    generateRandomArray();\n    }, [generateRandomArray]);\n\n  const animateSteps = useCallback(() => {\n    if (currentStep >= steps.length) {\n      setIsPlaying(false);\n      return;\n    }\n\n    const step = steps[currentStep];\n    setArray(step.array);\n    setCurrentStep(prev => prev + 1);\n  }, [currentStep, steps]);\n\n\n  useEffect(() => {\n    if (!isPlaying) return;\n\n    const delay = 1000 - (speed[0] * 9.5);\n    const timer = setTimeout(animateSteps, delay);\n\n    return () => clearTimeout(timer);\n  }, [isPlaying, speed, animateSteps]);\n  const startVisualization = useCallback(() => {    if (steps.length === 0) return;\n    if (currentStep >= steps.length) {\n      setCurrentStep(0);\n    }\n    setIsPlaying(true);\n    \n  }, [steps, speed, currentStep]);\n\n  const pauseVisualization = useCallback(() => {\n\n\n    setIsPlaying(false);  }, []);\n\n  const generateSortingSteps = useCallback((algorithm: AlgorithmType) => {\n    const arr = [...array];\n    const newSteps: AlgorithmStep[] = [];\n    \n    const addStep = (comparingIndices: number[] = [], swappingIndices: number[] = [], sortedIndices: number[] = []) => {\n      newSteps.push({\n        array: arr.map((el, idx) => ({\n          ...el,\n          isComparing: comparingIndices.includes(idx),\n          isSwapping: swappingIndices.includes(idx),\n          isSorted: sortedIndices.includes(idx)\n        })),\n        comparingIndices,\n        swappingIndices,\n        sortedIndices\n      });\n    };\n\n    const swap = (i: number, j: number) => {\n      [arr[i], arr[j]] = [arr[j], arr[i]];\n    };\n\n    switch (algorithm) {\n      case 'bubble': {\n        const sorted: number[] = [];\n        for (let i = 0; i < arr.length - 1; i++) {\n          for (let j = 0; j < arr.length - i - 1; j++) {\n            addStep([j, j + 1], [], sorted);\n            if (arr[j].value > arr[j + 1].value) {\n              addStep([j, j + 1], [j, j + 1], sorted);\n              swap(j, j + 1);\n              addStep([], [], sorted);\n            }\n          }\n          sorted.push(arr.length - i - 1);\n          addStep([], [], sorted);\n        }\n        sorted.push(0);\n        addStep([], [], sorted);\n        break;\n      }\n\n      case 'insertion': {\n        const sorted: number[] = [0];\n        addStep([], [], sorted);\n        for (let i = 1; i < arr.length; i++) {\n          let j = i;\n          addStep([j, j - 1], [], sorted);\n          while (j > 0 && arr[j].value < arr[j - 1].value) {\n            addStep([j, j - 1], [j, j - 1], sorted);\n            swap(j, j - 1);\n            j--;\n            addStep([j, j + 1], [], sorted);\n          }\n          sorted.push(i);\n          addStep([], [], sorted);\n        }\n        break;\n      }\n\n      case 'quick': {\n        const sorted: number[] = [];\n        const quickSort = (low: number, high: number) => {\n          if (low < high) {\n            const pivotIdx = partition(low, high);\n            sorted.push(pivotIdx);\n            addStep([], [], sorted);\n            quickSort(low, pivotIdx - 1);\n            quickSort(pivotIdx + 1, high);\n          } else if (low === high) {\n            sorted.push(low);\n            addStep([], [], sorted);\n          }\n        };\n\n        const partition = (low: number, high: number): number => {\n          const pivot = arr[high].value;\n          let i = low - 1;\n          \n          for (let j = low; j < high; j++) {\n            addStep([j, high], [], sorted);\n            if (arr[j].value < pivot) {\n              i++;\n              if (i !== j) {\n                addStep([j, high], [i, j], sorted);\n                swap(i, j);\n              }\n            }\n          }\n          addStep([high], [i + 1, high], sorted);\n          swap(i + 1, high);\n          return i + 1;\n        };\n\n        quickSort(0, arr.length - 1);\n        break;\n      }\n\n      case 'merge': {\n        const sorted: number[] = [];\n        const mergeSort = (left: number, right: number) => {\n          if (left < right) {\n            const mid = Math.floor((left + right) / 2);\n            mergeSort(left, mid);\n            mergeSort(mid + 1, right);\n            merge(left, mid, right);\n          }\n        };\n\n        const merge = (left: number, mid: number, right: number) => {\n          const leftArr = arr.slice(left, mid + 1);\n          const rightArr = arr.slice(mid + 1, right + 1);\n          \n          let i = 0, j = 0, k = left;\n          \n          while (i < leftArr.length && j < rightArr.length) {\n            addStep([left + i, mid + 1 + j], [], sorted);\n            if (leftArr[i].value <= rightArr[j].value) {\n              arr[k] = leftArr[i];\n              i++;\n            } else {\n              arr[k] = rightArr[j];\n              j++;\n            }\n            k++;\n          }\n          \n          while (i < leftArr.length) {\n            arr[k] = leftArr[i];\n            i++;\n            k++;\n          }\n          \n          while (j < rightArr.length) {\n            arr[k] = rightArr[j];\n            j++;\n            k++;\n          }\n          \n          for (let idx = left; idx <= right; idx++) {\n            if (!sorted.includes(idx)) {\n              sorted.push(idx);\n            }\n          }\n          addStep([], [], sorted);\n        };\n\n        mergeSort(0, arr.length - 1);\n        break;\n      }\n    }\n\n    setSteps(newSteps);\n    setCurrentStep(0);\n  }, [array]);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 p-8\">\n      <div className=\"max-w-7xl mx-auto space-y-8\">\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8 }}\n          className=\"text-center space-y-4\"\n        >\n          <motion.h1\n            className=\"text-6xl font-bold bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent\"\n            animate={{\n              textShadow: [\n                '0 0 20px rgba(0, 255, 255, 0.5)',\n                '0 0 40px rgba(255, 0, 255, 0.5)',\n                '0 0 20px rgba(0, 255, 255, 0.5)'\n              ]\n            }}\n            transition={{ duration: 2, repeat: Infinity }}\n          >\n            Algorithm Visualizer\n          </motion.h1>\n          <div className=\"flex items-center justify-center gap-4\">\n            <motion.div\n              className=\"text-2xl font-semibold text-cyan-300\"\n              animate={{ opacity: [0.7, 1, 0.7] }}\n              transition={{ duration: 2, repeat: Infinity }}\n            >\n              {mockAlgorithms.find(a => a.id === selectedAlgorithm)?.name}\n            </motion.div>\n            <motion.div\n              className=\"px-4 py-2 rounded-full bg-purple-500/20 border border-purple-400 backdrop-blur-sm\"\n              whileHover={{ scale: 1.05, boxShadow: '0 0 20px rgba(168, 85, 247, 0.6)' }}\n            >\n              <div className=\"flex items-center gap-2\">\n                <BarChart3 className=\"w-5 h-5 text-purple-300\" />\n                <span className=\"text-purple-200 font-mono\">\n                  {mockAlgorithms.find(a => a.id === selectedAlgorithm)?.complexity}\n                </span>\n              </div>\n            </motion.div>\n          </div>\n        </motion.div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n          <div className=\"lg:col-span-1 space-y-6\">\n                        <motion.div\n              initial={{ opacity: 0, x: -50 }}\n              animate={{ opacity: 1, x: 0 }}\n              className=\"bg-gray-800/50 backdrop-blur-lg rounded-2xl p-6 border border-cyan-500/30 shadow-[0_0_30px_rgba(0,255,255,0.3)] space-y-6\"\n            >\n              {/* Algorithm Selection */}\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-2 text-cyan-400 mb-4\">\n                  <Zap className=\"w-5 h-5\" />\n                  <h3 className=\"font-bold text-lg\">Algorithm</h3>\n                </div>\n                <div className=\"grid grid-cols-1 gap-2\">\n                  {mockAlgorithms.map((algo) => (\n                    <motion.button\n                      key={algo.id}\n                      whileHover={{ scale: 1.02 }}\n                      whileTap={{ scale: 0.98 }}\n                      onClick={() => setSelectedAlgorithm(algo.id as AlgorithmType)}\n                      className={`p-3 rounded-lg border transition-all duration-300 text-left ${\n                        selectedAlgorithm === algo.id\n                          ? 'bg-cyan-500/20 border-cyan-400 shadow-[0_0_20px_rgba(0,255,255,0.4)]'\n                          : 'bg-gray-700/30 border-gray-600 hover:border-cyan-500/50'\n                      }`}\n                    >\n                      <div className=\"font-semibold text-white\">{algo.name}</div>\n                      <div className=\"text-xs text-gray-400 mt-1\">{algo.complexity}</div>\n                    </motion.button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Array Size Control */}\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-2 text-purple-400\">\n                  <BarChart3 className=\"w-5 h-5\" />\n                  <h3 className=\"font-bold\">Array Size</h3>\n                </div>\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-400\">Elements</span>\n                    <span className=\"text-white font-mono\">{arraySize[0]}</span>\n                  </div>\n                  <Slider\n                    value={arraySize}\n                    onValueChange={setArraySize}\n                    min={5}\n                    max={50}\n                    step={1}\n                    className=\"cursor-pointer\"\n                    disabled={isPlaying}\n                  />\n                </div>\n              </div>\n\n              {/* Speed Control */}\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-2 text-pink-400\">\n                  <Zap className=\"w-5 h-5\" />\n                  <h3 className=\"font-bold\">Speed</h3>\n                </div>\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-400\">Animation</span>\n                    <span className=\"text-white font-mono\">{speed[0]}%</span>\n                  </div>\n                  <Slider\n                    value={speed}\n                    onValueChange={setSpeed}\n                    min={10}\n                    max={100}\n                    step={10}\n                    className=\"cursor-pointer\"\n                  />\n                </div>\n              </div>\n\n              {/* Control Buttons */}\n              <div className=\"space-y-3 pt-4 border-t border-gray-700\">\n                <Button\n                  onClick={isPlaying ? pauseVisualization : startVisualization}\n                  disabled={steps.length === 0 || currentStep >= steps.length}\n                  className=\"w-full bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-bold py-6 rounded-lg shadow-[0_0_20px_rgba(0,255,255,0.5)] transition-all duration-300\"\n                >\n                  {isPlaying ? (\n                    <>\n                      <Pause className=\"w-5 h-5 mr-2\" />\n                      Pause\n                    </>\n                  ) : (\n                    <>\n                      <Play className=\"w-5 h-5 mr-2\" />\n                      {currentStep >= steps.length ? 'Finished' : 'Start'}\n                    </>\n                  )}\n                </Button>\n\n                <Button\n                  onClick={resetVisualization}\n                  variant=\"outline\"\n                  className=\"w-full border-2 border-purple-500/50 bg-purple-500/10 hover:bg-purple-500/20 text-purple-300 font-bold py-6 rounded-lg shadow-[0_0_15px_rgba(168,85,247,0.4)] transition-all duration-300\"\n                >\n                  <RotateCcw className=\"w-5 h-5 mr-2\" />\n                  Reset\n                </Button>\n\n                <Button\n                  onClick={() => {\n                    generateRandomArray();\n                    generateSortingSteps(selectedAlgorithm);\n                  }}\n                  variant=\"outline\"\n                  disabled={isPlaying}\n                  className=\"w-full border-2 border-pink-500/50 bg-pink-500/10 hover:bg-pink-500/20 text-pink-300 font-bold py-6 rounded-lg shadow-[0_0_15px_rgba(236,72,153,0.4)] transition-all duration-300\"\n                >\n                  <Zap className=\"w-5 h-5 mr-2\" />\n                  Generate New\n                </Button>\n              </div>\n\n              {/* Progress Indicator */}\n              {steps.length > 0 && (\n                <div className=\"space-y-2 pt-4 border-t border-gray-700\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-400\">Progress</span>\n                    <span className=\"text-white font-mono\">\n                      {currentStep} / {steps.length}\n                    </span>\n                  </div>\n                  <div className=\"w-full h-2 bg-gray-700 rounded-full overflow-hidden\">\n                    <motion.div\n                      className=\"h-full bg-gradient-to-r from-cyan-500 via-purple-500 to-pink-500\"\n                      initial={{ width: 0 }}\n                      animate={{ width: `${(currentStep / steps.length) * 100}%` }}\n                      transition={{ duration: 0.3 }}\n                    />\n                  </div>\n                </div>\n              )}\n            </motion.div>\n            \n            <div className=\"bg-gray-800/50 backdrop-blur-lg rounded-2xl p-6 border border-cyan-500/30 shadow-lg shadow-cyan-500/20\">\n              <div className=\"space-y-6\">\n                <div>\n                  <h3 className=\"text-cyan-400 font-semibold mb-4 flex items-center gap-2\">\n                    <Zap className=\"w-5 h-5\" />\n                    Algorithm\n                  </h3>\n                  <div className=\"space-y-2\">\n                    {mockAlgorithms.map((algo) => (\n                      <motion.button\n                        key={algo.id}\n                        onClick={() => setSelectedAlgorithm(algo.id as AlgorithmType)}\n                        className={`w-full text-left px-4 py-3 rounded-lg font-medium transition-all ${\n                          selectedAlgorithm === algo.id\n                            ? 'bg-cyan-500/20 text-cyan-300 border border-cyan-400/50 shadow-lg shadow-cyan-500/50'\n                            : 'bg-gray-700/50 text-gray-300 border border-gray-600/30 hover:border-cyan-400/30 hover:shadow-md hover:shadow-cyan-500/20'\n                        }`}\n                        whileHover={{ scale: 1.02 }}\n                        whileTap={{ scale: 0.98 }}\n                      >\n                        <div className=\"flex justify-between items-center\">\n                          <span>{algo.name}</span>\n                          <span className=\"text-xs opacity-70\">{algo.complexity}</span>\n                        </div>\n                      </motion.button>\n                    ))}\n                  </div></parameter>\n                </div>\n\n                <div>\n                  <h3 className=\"text-cyan-400 font-semibold mb-4 flex items-center gap-2\">\n                    <BarChart3 className=\"w-5 h-5\" />\n                    Array Size: {arraySize[0]}\n                  </h3>\n                  <Slider\n                    value={arraySize}\n                    onValueChange={setArraySize}\n                    min={5}\n                    max={50}\n                    step={1}\n                    className=\"[&_[role=slider]]:bg-cyan-400 [&_[role=slider]]:border-cyan-300 [&_[role=slider]]:shadow-lg [&_[role=slider]]:shadow-cyan-400/50 [&_[role=slider]]:transition-all [&_[role=slider]]:hover:shadow-cyan-400/80 [&_[role=slider]]:hover:scale-110\"\n                    disabled={isPlaying}\n                  />\n                </div>\n\n                <div>\n                  <h3 className=\"text-cyan-400 font-semibold mb-4\">\n                    Speed: {speed[0]}ms\n                  </h3>\n                  <Slider\n                    value={speed}\n                    onValueChange={setSpeed}\n                    min={10}\n                    max={500}\n                    step={10}\n                    className=\"cursor-pointer [&_[role=slider]]:bg-gradient-to-r [&_[role=slider]]:from-purple-500 [&_[role=slider]]:to-pink-500 [&_[role=slider]]:border-0 [&_[role=slider]]:shadow-lg [&_[role=slider]]:shadow-purple-500/50 [&_[role=slider]]:transition-shadow [&_[role=slider]]:hover:shadow-xl [&_[role=slider]]:hover:shadow-purple-500/70 [&_[role=slider]]:h-5 [&_[role=slider]]:w-5 [&>span]:bg-gradient-to-r [&>span]:from-cyan-500/30 [&>span]:to-purple-500/30 [&>span]:h-2\"\n                  /></parameter>\n                </div>\n\n                <div className=\"space-y-3 pt-4 border-t border-cyan-500/20\">\n                  <motion.button\n                    onClick={() => {\n                      if (isPlaying) {\n                        pauseVisualization();\n                      } else {\n                        if (steps.length === 0) {\n                          generateSortingSteps(selectedAlgorithm);\n                        }\n                        startVisualization();\n                      }\n                    }}\n                    disabled={array.length === 0}\n                    className=\"w-full relative overflow-hidden bg-gradient-to-r from-cyan-500 to-purple-500 text-white font-bold py-4 px-6 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed shadow-lg\"\n                    whileHover={{ scale: 1.05, boxShadow: '0 0 30px rgba(0, 255, 255, 0.6)' }}\n                    whileTap={{ scale: 0.95 }}\n                    animate={{\n                      boxShadow: isPlaying \n                        ? ['0 0 20px rgba(0, 255, 255, 0.5)', '0 0 40px rgba(138, 43, 226, 0.5)', '0 0 20px rgba(0, 255, 255, 0.5)']\n                        : '0 0 20px rgba(0, 255, 255, 0.3)'\n                    }}\n                    transition={{ duration: 2, repeat: isPlaying ? Infinity : 0 }}\n                  >\n                    <motion.div\n                      className=\"flex items-center justify-center gap-3\"\n                      initial={false}\n                      animate={{ scale: isPlaying ? [1, 1.1, 1] : 1 }}\n                      transition={{ duration: 0.5, repeat: isPlaying ? Infinity : 0 }}\n                    >\n                      <motion.div\n                        initial={false}\n                        animate={{ rotate: isPlaying ? 0 : 0 }}\n                        transition={{ duration: 0.3 }}\n                      >\n                        {isPlaying ? (\n                          <motion.div\n                            key=\"pause\"\n                            initial={{ scale: 0, rotate: -180 }}\n                            animate={{ scale: 1, rotate: 0 }}\n                            exit={{ scale: 0, rotate: 180 }}\n                            transition={{ duration: 0.3 }}\n                          >\n                            <Pause className=\"w-6 h-6\" />\n                          </motion.div>\n                        ) : (\n                          <motion.div\n                            key=\"play\"\n                            initial={{ scale: 0, rotate: -180 }}\n                            animate={{ scale: 1, rotate: 0 }}\n                            exit={{ scale: 0, rotate: 180 }}\n                            transition={{ duration: 0.3 }}\n                          >\n                            <Play className=\"w-6 h-6\" />\n                          </motion.div>\n                        )}\n                      </motion.div>\n                      <span className=\"text-lg\">\n                        {isPlaying ? 'Pause' : 'Start Visualization'}\n                      </span>\n                    </motion.div>\n                    <motion.div\n                      className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent\"\n                      initial={{ x: '-100%' }}\n                      animate={{ x: isPlaying ? '100%' : '-100%' }}\n                      transition={{ duration: 1.5, repeat: isPlaying ? Infinity : 0, ease: 'linear' }}\n                    />\n                  </motion.button>\n                  \n                  <motion.div whileTap={{ rotate: 360 }} transition={{ duration: 0.6 }}>\n                    <Button\n                      onClick={resetVisualization}\n                      variant=\"outline\"\n                      className=\"w-full bg-purple-500/20 border-purple-400 text-purple-300 hover:bg-purple-500/30 hover:shadow-lg hover:shadow-purple-500/50 transition-all\"\n                      disabled={isPlaying}\n                    >\n                      <RotateCcw className=\"w-4 h-4 mr-2\" />\n                      Reset\n                    </Button>\n                  </motion.div>\n                  \n                  {/* TODO:GenerateButton Generate new array button with pulse effect */}\n                </div>\n              </div>\n            </div>\n\n            <motion.div\n              initial={{ opacity: 0, x: -50 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ delay: 0.2 }}\n              className=\"bg-gray-800/50 backdrop-blur-lg rounded-2xl p-6 border border-purple-500/30 shadow-[0_0_30px_rgba(168,85,247,0.3)] space-y-4\"\n            >\n              <div className=\"flex items-center gap-2 text-purple-400 mb-4\">\n                <BarChart3 className=\"w-5 h-5\" />\n                <h3 className=\"font-bold text-lg\">Statistics</h3>\n              </div>\n\n              <div className=\"space-y-4\">\n                {/* Current Step */}\n                <motion.div\n                  className=\"bg-gradient-to-r from-cyan-500/10 to-purple-500/10 rounded-lg p-4 border border-cyan-400/30\"\n                  whileHover={{ scale: 1.02, boxShadow: '0 0 20px rgba(0, 255, 255, 0.3)' }}\n                >\n                  <div className=\"text-sm text-gray-400 mb-1\">Current Step</div>\n                  <div className=\"flex items-baseline gap-2\">\n                    <motion.span\n                      className=\"text-3xl font-bold text-cyan-300 font-mono\"\n                      key={currentStep}\n                      initial={{ scale: 1.2, color: '#00ffff' }}\n                      animate={{ scale: 1, color: '#67e8f9' }}\n                      transition={{ duration: 0.3 }}\n                    >\n                      {currentStep}\n                    </motion.span>\n                    <span className=\"text-gray-500\">/ {steps.length}</span>\n                  </div>\n                  {steps.length > 0 && (\n                    <div className=\"mt-2 h-2 bg-gray-700/50 rounded-full overflow-hidden\">\n                      <motion.div\n                        className=\"h-full bg-gradient-to-r from-cyan-400 to-purple-400\"\n                        initial={{ width: 0 }}\n                        animate={{ width: `${(currentStep / steps.length) * 100}%` }}\n                        transition={{ duration: 0.3 }}\n                      />\n                    </div>\n                  )}\n                </motion.div>\n\n                {/* Comparisons */}\n                <motion.div\n                  className=\"bg-gradient-to-r from-yellow-500/10 to-orange-500/10 rounded-lg p-4 border border-yellow-400/30\"\n                  whileHover={{ scale: 1.02, boxShadow: '0 0 20px rgba(255, 255, 0, 0.3)' }}\n                >\n                  <div className=\"text-sm text-gray-400 mb-1\">Comparisons</div>\n                  <motion.div\n                    className=\"text-3xl font-bold text-yellow-300 font-mono\"\n                    key={steps.filter(s => s.comparingIndices.length > 0).length}\n                    initial={{ scale: 1.2 }}\n                    animate={{ scale: 1 }}\n                    transition={{ duration: 0.3 }}\n                  >\n                    {steps.slice(0, currentStep).filter(s => s.comparingIndices.length > 0).length}\n                  </motion.div>\n                  <div className=\"text-xs text-gray-500 mt-1\">Total comparisons made</div>\n                </motion.div>\n\n                {/* Swaps */}\n                <motion.div\n                  className=\"bg-gradient-to-r from-pink-500/10 to-red-500/10 rounded-lg p-4 border border-pink-400/30\"\n                  whileHover={{ scale: 1.02, boxShadow: '0 0 20px rgba(255, 0, 255, 0.3)' }}\n                >\n                  <div className=\"text-sm text-gray-400 mb-1\">Swaps</div>\n                  <motion.div\n                    className=\"text-3xl font-bold text-pink-300 font-mono\"\n                    key={steps.filter(s => s.swappingIndices.length > 0).length}\n                    initial={{ scale: 1.2 }}\n                    animate={{ scale: 1 }}\n                    transition={{ duration: 0.3 }}\n                  >\n                    {steps.slice(0, currentStep).filter(s => s.swappingIndices.length > 0).length}\n                  </motion.div>\n                  <div className=\"text-xs text-gray-500 mt-1\">Array elements swapped</div>\n                </motion.div>\n\n                {/* Sorted Elements */}\n                <motion.div\n                  className=\"bg-gradient-to-r from-green-500/10 to-emerald-500/10 rounded-lg p-4 border border-green-400/30\"\n                  whileHover={{ scale: 1.02, boxShadow: '0 0 20px rgba(0, 255, 0, 0.3)' }}\n                >\n                  <div className=\"text-sm text-gray-400 mb-1\">Sorted Elements</div>\n                  <div className=\"flex items-baseline gap-2\">\n                    <motion.span\n                      className=\"text-3xl font-bold text-green-300 font-mono\"\n                      key={steps[currentStep - 1]?.sortedIndices.length || 0}\n                      initial={{ scale: 1.2 }}\n                      animate={{ scale: 1 }}\n                      transition={{ duration: 0.3 }}\n                    >\n                      {steps[currentStep - 1]?.sortedIndices.length || 0}\n                    </motion.span>\n                    <span className=\"text-gray-500\">/ {array.length}</span>\n                  </div>\n                  {array.length > 0 && (\n                    <div className=\"mt-2 h-2 bg-gray-700/50 rounded-full overflow-hidden\">\n                      <motion.div\n                        className=\"h-full bg-gradient-to-r from-green-400 to-emerald-400\"\n                        initial={{ width: 0 }}\n                        animate={{ \n                          width: `${((steps[currentStep - 1]?.sortedIndices.length || 0) / array.length) * 100}%` \n                        }}\n                        transition={{ duration: 0.3 }}\n                      />\n                    </div>\n                  )}\n                </motion.div>\n\n                {/* Status Indicator */}\n                <motion.div\n                  className=\"bg-gray-700/30 rounded-lg p-4 border border-gray-600/30\"\n                  animate={{\n                    borderColor: isPlaying \n                      ? ['rgba(0, 255, 255, 0.3)', 'rgba(255, 0, 255, 0.3)', 'rgba(0, 255, 255, 0.3)']\n                      : 'rgba(156, 163, 175, 0.3)'\n                  }}\n                  transition={{ duration: 2, repeat: isPlaying ? Infinity : 0 }}\n                >\n                  <div className=\"text-sm text-gray-400 mb-2\">Status</div>\n                  <div className=\"flex items-center gap-2\">\n                    <motion.div\n                      className={`w-3 h-3 rounded-full ${\n                        isPlaying ? 'bg-green-400' : 'bg-gray-500'\n                      }`}\n                      animate={{\n                        boxShadow: isPlaying\n                          ? ['0 0 10px rgba(0, 255, 0, 0.8)', '0 0 20px rgba(0, 255, 0, 0.8)', '0 0 10px rgba(0, 255, 0, 0.8)']\n                          : '0 0 0px rgba(0, 0, 0, 0)'\n                      }}\n                      transition={{ duration: 1, repeat: Infinity }}\n                    />\n                    <span className={`font-semibold ${\n                      isPlaying ? 'text-green-300' : 'text-gray-400'\n                    }`}>\n                      {isPlaying ? 'Running' : currentStep === steps.length && steps.length > 0 ? 'Completed' : 'Idle'}\n                    </span>\n                  </div>\n                </motion.div>\n              </div>\n            </motion.div>\n          </div>\n\n          <div className=\"lg:col-span-3\">\n            <div className=\"bg-gray-800/50 backdrop-blur-lg rounded-2xl p-8 border border-purple-500/30 shadow-lg shadow-purple-500/20 min-h-[600px]\">\n                            {array.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center h-full space-y-6\">\n                  <motion.div\n                    initial={{ scale: 0 }}\n                    animate={{ scale: 1 }}\n                    transition={{ type: \"spring\", stiffness: 200, damping: 15 }}\n                  >\n                    <BarChart3 className=\"w-24 h-24 text-cyan-400/50\" />\n                  </motion.div>\n                  <motion.p\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.2 }}\n                    className=\"text-gray-400 text-xl font-semibold\"\n                  >\n                    Click \"Generate New\" to create an array\n                  </motion.p>\n                  <motion.div\n                    animate={{\n                      boxShadow: [\n                        '0 0 20px rgba(0, 255, 255, 0.3)',\n                        '0 0 40px rgba(168, 85, 247, 0.5)',\n                        '0 0 20px rgba(0, 255, 255, 0.3)'\n                      ]\n                    }}\n                    transition={{ duration: 2, repeat: Infinity }}\n                    className=\"px-6 py-3 rounded-full bg-gradient-to-r from-cyan-500/20 to-purple-500/20 border border-cyan-400/50\"\n                  >\n                    <span className=\"text-cyan-300 font-mono\">Ready to visualize</span>\n                  </motion.div>\n                </div>\n              ) : (\n                <div className=\"relative h-full w-full\">\n                  {/* Progress indicator */}\n                  {steps.length > 0 && (\n                    <motion.div\n                      initial={{ opacity: 0, y: -20 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      className=\"absolute top-0 left-0 right-0 mb-4\"\n                    >\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <span className=\"text-cyan-400 font-semibold\">\n                          Step {currentStep} / {steps.length}\n                        </span>\n                        <span className=\"text-purple-400 font-mono text-sm\">\n                          {Math.round((currentStep / steps.length) * 100)}% Complete\n                        </span>\n                      </div>\n                      <div className=\"h-2 bg-gray-700/50 rounded-full overflow-hidden\">\n                        <motion.div\n                          className=\"h-full bg-gradient-to-r from-cyan-500 via-purple-500 to-pink-500\"\n                          initial={{ width: 0 }}\n                          animate={{ width: `${(currentStep / steps.length) * 100}%` }}\n                          transition={{ duration: 0.3 }}\n                          style={{\n                            boxShadow: '0 0 20px rgba(0, 255, 255, 0.6)'\n                          }}\n                        />\n                      </div>\n                    </motion.div>\n                  )}\n\n                  {/* Visualization bars */}\n                  <div className=\"h-full flex items-end justify-center gap-1 pt-16\">\n                    {(steps.length > 0 && currentStep < steps.length ? steps[currentStep].array : array).map((element, index) => {\n                      const maxValue = Math.max(...array.map(el => el.value));\n                      const heightPercentage = (element.value / maxValue) * 100;\n                      const colorIndex = index % NEON_COLORS.length;\n                      const baseColor = NEON_COLORS[colorIndex];\n\n                      let barColor = baseColor;\n                      let glowColor = baseColor;\n                      let glowIntensity = 0.3;\n\n                      if (element.isSorted) {\n                        barColor = '#00ff00';\n                        glowColor = '#00ff00';\n                        glowIntensity = 0.8;\n                      } else if (element.isSwapping) {\n                        barColor = '#ff0066';\n                        glowColor = '#ff0066';\n                        glowIntensity = 1;\n                      } else if (element.isComparing) {\n                        barColor = '#ffff00';\n                        glowColor = '#ffff00';\n                        glowIntensity = 0.7;\n                      }\n\n                      return (\n                        <motion.div\n                          key={element.id}\n                          className=\"relative flex-1 min-w-[4px] max-w-[60px] rounded-t-lg\"\n                          initial={{ height: 0, opacity: 0 }}\n                          animate={{\n                            height: `${heightPercentage}%`,\n                            opacity: 1,\n                            backgroundColor: barColor,\n                            boxShadow: [\n                              `0 0 ${10 + glowIntensity * 20}px ${glowColor}${Math.round(glowIntensity * 255).toString(16).padStart(2, '0')}`,\n                              `0 0 ${15 + glowIntensity * 30}px ${glowColor}${Math.round(glowIntensity * 255).toString(16).padStart(2, '0')}`,\n                              `0 0 ${10 + glowIntensity * 20}px ${glowColor}${Math.round(glowIntensity * 255).toString(16).padStart(2, '0')}`\n                            ],\n                            scale: element.isSwapping ? [1, 1.1, 1] : element.isComparing ? 1.05 : 1,\n                            y: element.isSwapping ? [0, -20, 0] : 0\n                          }}\n                          transition={{\n                            height: { duration: 0.5, ease: \"easeOut\" },\n                            backgroundColor: { duration: 0.3 },\n                            boxShadow: { duration: 1, repeat: Infinity },\n                            scale: { duration: 0.3 },\n                            y: { duration: 0.5, ease: \"easeInOut\" },\n                            opacity: { duration: 0.5, delay: index * 0.02 }\n                          }}\n                          style={{\n                            background: element.isSorted\n                              ? 'linear-gradient(to top, #00ff00, #00ffaa)'\n                              : element.isSwapping\n                              ? 'linear-gradient(to top, #ff0066, #ff00ff)'\n                              : element.isComparing\n                              ? 'linear-gradient(to top, #ffff00, #ffaa00)'\n                              : `linear-gradient(to top, ${barColor}, ${barColor}dd)`\n                          }}\n                        >\n                          {/* Trail effect for swapping */}\n                          {element.isSwapping && (\n                            <motion.div\n                              className=\"absolute inset-0 rounded-t-lg\"\n                              initial={{ opacity: 0.8, scale: 1 }}\n                              animate={{ opacity: 0, scale: 1.5 }}\n                              transition={{ duration: 0.6, repeat: Infinity }}\n                              style={{\n                                background: `radial-gradient(circle, ${glowColor}80, transparent)`,\n                                filter: 'blur(8px)'\n                              }}\n                            />\n                          )}\n\n                          {/* Value label */}\n                          {arraySize[0] <= 30 && (\n                            <motion.div\n                              className=\"absolute -top-8 left-1/2 transform -translate-x-1/2 text-xs font-bold whitespace-nowrap\"\n                              initial={{ opacity: 0 }}\n                              animate={{ opacity: element.isComparing || element.isSwapping ? 1 : 0.6 }}\n                              style={{ color: barColor }}\n                            >\n                              {element.value}\n                            </motion.div>\n                          )}\n\n                          {/* Glow effect at base */}\n                          <motion.div\n                            className=\"absolute -bottom-1 left-0 right-0 h-2 rounded-full blur-sm\"\n                            animate={{\n                              opacity: [glowIntensity * 0.5, glowIntensity, glowIntensity * 0.5]\n                            }}\n                            transition={{ duration: 1, repeat: Infinity }}\n                            style={{ backgroundColor: glowColor }}\n                          />\n                        </motion.div>\n                      );\n                    })}\n                  </div>\n\n                  {/* Completion celebration */}\n                  {steps.length > 0 && currentStep >= steps.length && (\n                    <motion.div\n                      initial={{ opacity: 0, scale: 0.8 }}\n                      animate={{ opacity: 1, scale: 1 }}\n                      className=\"absolute inset-0 flex items-center justify-center bg-gray-900/80 backdrop-blur-sm rounded-2xl\"\n                    >\n                      <div className=\"text-center space-y-4\">\n                        <motion.div\n                          animate={{\n                            rotate: [0, 360],\n                            scale: [1, 1.2, 1]\n                          }}\n                          transition={{ duration: 2, repeat: Infinity }}\n                        >\n                          <BarChart3 className=\"w-20 h-20 text-cyan-400 mx-auto\" />\n                        </motion.div>\n                        <motion.h2\n                          className=\"text-4xl font-bold bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent\"\n                          animate={{\n                            textShadow: [\n                              '0 0 20px rgba(0, 255, 255, 0.5)',\n                              '0 0 40px rgba(255, 0, 255, 0.5)',\n                              '0 0 20px rgba(0, 255, 255, 0.5)'\n                            ]\n                          }}\n                          transition={{ duration: 2, repeat: Infinity }}\n                        >\n                          Sorting Complete!\n                        </motion.h2>\n                        <p className=\"text-gray-400\">Array is now sorted</p>\n                      </div>\n                    </motion.div>\n                  )}\n                </div>\n              )}\n              \n              <div className=\"h-full flex items-end justify-center gap-1\">\n                {array.length === 0 ? (\n                  <motion.div\n                    initial={{ opacity: 0, scale: 0.8 }}\n                    animate={{ opacity: 1, scale: 1 }}\n                    className=\"text-center text-gray-400 text-xl\"\n                  >\n                    <Zap className=\"w-16 h-16 mx-auto mb-4 text-cyan-400 opacity-50\" />\n                    <p>Click \"Generate New\" to create an array</p>\n                  </motion.div>\n                ) : (\n                  array.map((element, index) => {\n                    const colorIndex = index % NEON_COLORS.length;\n                    const neonColor = NEON_COLORS[colorIndex];\n                    const heightPercentage = (element.value / 100) * 100;\n                    \n                    let barColor = neonColor;\n                    let glowIntensity = 0.4;\n                    let scale = 1;\n                    \n                    if (element.isSorted) {\n                      barColor = '#00ff00';\n                      glowIntensity = 0.6;\n                    } else if (element.isSwapping) {\n                      barColor = '#ff0066';\n                      glowIntensity = 0.8;\n                      scale = 1.1;\n                    } else if (element.isComparing) {\n                      barColor = '#ffff00';\n                      glowIntensity = 0.7;\n                      scale = 1.05;\n                    }\n\n                    return (\n                      <motion.div\n                        key={element.id}\n                        layout\n                        initial={{ opacity: 0, y: 50, scale: 0 }}\n                        animate={{\n                          opacity: 1,\n                          y: 0,\n                          scale: scale,\n                          height: `${heightPercentage}%`,\n                        }}\n                        exit={{ opacity: 0, scale: 0 }}\n                        transition={{\n                          layout: { duration: 0.5, type: 'spring', stiffness: 300, damping: 30 },\n                          height: { duration: 0.3, ease: 'easeInOut' },\n                          scale: { duration: 0.2, ease: 'easeOut' },\n                          opacity: { duration: 0.3 }\n                        }}\n                        className=\"relative flex-1 min-w-[8px] max-w-[60px] rounded-t-lg\"\n                        style={{\n                          backgroundColor: barColor,\n                          boxShadow: `\n                            0 0 ${20 * glowIntensity}px ${barColor},\n                            0 0 ${40 * glowIntensity}px ${barColor},\n                            inset 0 0 ${10 * glowIntensity}px rgba(255, 255, 255, 0.3)\n                          `,\n                          border: `2px solid ${barColor}`,\n                          minHeight: '20px'\n                        }}\n                      >\n                        {/* Trail effect for swapping */}\n                        {element.isSwapping && (\n                          <motion.div\n                            className=\"absolute inset-0 rounded-t-lg\"\n                            style={{\n                              backgroundColor: barColor,\n                              opacity: 0.5\n                            }}\n                            animate={{\n                              opacity: [0.5, 0, 0.5],\n                              scale: [1, 1.2, 1]\n                            }}\n                            transition={{\n                              duration: 0.6,\n                              repeat: Infinity,\n                              ease: 'easeInOut'\n                            }}\n                          />\n                        )}\n\n                        {/* Pulse effect for comparing */}\n                        {element.isComparing && (\n                          <motion.div\n                            className=\"absolute -inset-1 rounded-t-lg\"\n                            style={{\n                              border: `2px solid ${barColor}`,\n                              opacity: 0.6\n                            }}\n                            animate={{\n                              scale: [1, 1.15, 1],\n                              opacity: [0.6, 0, 0.6]\n                            }}\n                            transition={{\n                              duration: 0.8,\n                              repeat: Infinity,\n                              ease: 'easeInOut'\n                            }}\n                          />\n                        )}\n\n                        {/* Sparkle effect for sorted */}\n                        {element.isSorted && (\n                          <motion.div\n                            className=\"absolute inset-0 rounded-t-lg\"\n                            initial={{ opacity: 0 }}\n                            animate={{\n                              opacity: [0, 1, 0],\n                            }}\n                            transition={{\n                              duration: 1,\n                              ease: 'easeInOut'\n                            }}\n                            style={{\n                              background: `linear-gradient(180deg, rgba(255,255,255,0.8) 0%, transparent 100%)`\n                            }}\n                          />\n                        )}\n\n                        {/* Value label */}\n                        <motion.div\n                          className=\"absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-xs font-mono font-bold whitespace-nowrap\"\n                          style={{\n                            color: barColor,\n                            textShadow: `0 0 10px ${barColor}`\n                          }}\n                          animate={{\n                            scale: element.isComparing || element.isSwapping ? [1, 1.2, 1] : 1\n                          }}\n                          transition={{\n                            duration: 0.3,\n                            repeat: element.isComparing || element.isSwapping ? Infinity : 0\n                          }}\n                        >\n                          {element.value}\n                        </motion.div>\n\n                        {/* Gradient overlay */}\n                        <div\n                          className=\"absolute inset-0 rounded-t-lg pointer-events-none\"\n                          style={{\n                            background: 'linear-gradient(180deg, rgba(255,255,255,0.2) 0%, transparent 50%, rgba(0,0,0,0.2) 100%)'\n                          }}\n                        />\n                      </motion.div>\n                    );\n                  })\n                )}\n              </div>\n            </div>\n\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.3 }}\n              className=\"mt-6 bg-gray-800/50 backdrop-blur-lg rounded-2xl p-6 border border-pink-500/30 shadow-[0_0_30px_rgba(236,72,153,0.3)]\"\n            >\n              <div className=\"flex items-center gap-2 text-pink-400 mb-4\">\n                <BarChart3 className=\"w-5 h-5\" />\n                <h3 className=\"font-bold text-lg\">Legend</h3>\n              </div>\n              \n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <motion.div\n                  className=\"flex items-center gap-3 p-3 rounded-lg bg-gray-700/30 border border-gray-600/50\"\n                  whileHover={{ scale: 1.05, boxShadow: '0 0 15px rgba(100, 100, 100, 0.4)' }}\n                >\n                  <motion.div\n                    className=\"w-8 h-12 rounded bg-gradient-to-t from-cyan-500 to-cyan-300\"\n                    animate={{\n                      boxShadow: [\n                        '0 0 10px rgba(0, 255, 255, 0.5)',\n                        '0 0 20px rgba(0, 255, 255, 0.8)',\n                        '0 0 10px rgba(0, 255, 255, 0.5)'\n                      ]\n                    }}\n                    transition={{ duration: 2, repeat: Infinity }}\n                  />\n                  <div>\n                    <div className=\"text-white font-semibold text-sm\">Normal</div>\n                    <div className=\"text-gray-400 text-xs\">Unsorted</div>\n                  </div>\n                </motion.div>\n\n                <motion.div\n                  className=\"flex items-center gap-3 p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/50\"\n                  whileHover={{ scale: 1.05, boxShadow: '0 0 15px rgba(255, 255, 0, 0.4)' }}\n                >\n                  <motion.div\n                    className=\"w-8 h-12 rounded bg-gradient-to-t from-yellow-500 to-yellow-300\"\n                    animate={{\n                      boxShadow: [\n                        '0 0 15px rgba(255, 255, 0, 0.6)',\n                        '0 0 30px rgba(255, 255, 0, 0.9)',\n                        '0 0 15px rgba(255, 255, 0, 0.6)'\n                      ],\n                      scale: [1, 1.1, 1]\n                    }}\n                    transition={{ duration: 1.5, repeat: Infinity }}\n                  />\n                  <div>\n                    <div className=\"text-white font-semibold text-sm\">Comparing</div>\n                    <div className=\"text-gray-400 text-xs\">Checking</div>\n                  </div>\n                </motion.div>\n\n                <motion.div\n                  className=\"flex items-center gap-3 p-3 rounded-lg bg-orange-500/10 border border-orange-500/50\"\n                  whileHover={{ scale: 1.05, boxShadow: '0 0 15px rgba(255, 165, 0, 0.4)' }}\n                >\n                  <motion.div\n                    className=\"w-8 h-12 rounded bg-gradient-to-t from-orange-500 to-orange-300\"\n                    animate={{\n                      boxShadow: [\n                        '0 0 20px rgba(255, 165, 0, 0.7)',\n                        '0 0 40px rgba(255, 165, 0, 1)',\n                        '0 0 20px rgba(255, 165, 0, 0.7)'\n                      ],\n                      scale: [1, 1.15, 1],\n                      y: [0, -5, 0]\n                    }}\n                    transition={{ duration: 1, repeat: Infinity }}\n                  />\n                  <div>\n                    <div className=\"text-white font-semibold text-sm\">Swapping</div>\n                    <div className=\"text-gray-400 text-xs\">Moving</div>\n                  </div>\n                </motion.div>\n\n                <motion.div\n                  className=\"flex items-center gap-3 p-3 rounded-lg bg-green-500/10 border border-green-500/50\"\n                  whileHover={{ scale: 1.05, boxShadow: '0 0 15px rgba(0, 255, 0, 0.4)' }}\n                >\n                  <motion.div\n                    className=\"w-8 h-12 rounded bg-gradient-to-t from-green-500 to-green-300\"\n                    animate={{\n                      boxShadow: [\n                        '0 0 10px rgba(0, 255, 0, 0.5)',\n                        '0 0 20px rgba(0, 255, 0, 0.8)',\n                        '0 0 10px rgba(0, 255, 0, 0.5)'\n                      ]\n                    }}\n                    transition={{ duration: 2, repeat: Infinity }}\n                  />\n                  <div>\n                    <div className=\"text-white font-semibold text-sm\">Sorted</div>\n                    <div className=\"text-gray-400 text-xs\">Complete</div>\n                  </div>\n                </motion.div>\n              </div>\n            </motion.div>\n          </div>\n        </div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.4, duration: 0.8 }}\n          className=\"bg-gray-800/50 backdrop-blur-lg rounded-2xl p-8 border border-cyan-500/30 shadow-[0_0_30px_rgba(0,255,255,0.2)]\"\n        >\n          <div className=\"flex items-center gap-3 mb-6\">\n            <motion.div\n              animate={{\n                rotate: [0, 360],\n                scale: [1, 1.2, 1]\n              }}\n              transition={{ duration: 3, repeat: Infinity, ease: \"easeInOut\" }}\n            >\n              <BarChart3 className=\"w-7 h-7 text-cyan-400\" />\n            </motion.div>\n            <h2 className=\"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent\">\n              Algorithm Complexity\n            </h2>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {/* Time Complexity */}\n            <motion.div\n              className=\"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 rounded-xl p-6 border border-cyan-400/30\"\n              whileHover={{ scale: 1.02, boxShadow: '0 0 25px rgba(0, 255, 255, 0.4)' }}\n              transition={{ duration: 0.3 }}\n            >\n              <div className=\"flex items-center gap-2 mb-3\">\n                <Zap className=\"w-5 h-5 text-cyan-400\" />\n                <h3 className=\"text-lg font-semibold text-cyan-300\">Time Complexity</h3>\n              </div>\n              <motion.div\n                className=\"text-4xl font-bold font-mono text-white mb-2\"\n                key={`time-${selectedAlgorithm}`}\n                initial={{ scale: 1.3, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                transition={{ duration: 0.5, type: \"spring\" }}\n              >\n                {mockAlgorithms.find(a => a.id === selectedAlgorithm)?.complexity}\n              </motion.div>\n              <p className=\"text-sm text-gray-400 leading-relaxed\">\n                {selectedAlgorithm === 'bubble' && 'Worst and average case. Best case O(n) when array is already sorted.'}\n                {selectedAlgorithm === 'insertion' && 'Worst and average case. Best case O(n) when array is nearly sorted.'}\n                {selectedAlgorithm === 'quick' && 'Average case. Worst case O(n\u00b2) with poor pivot selection.'}\n                {selectedAlgorithm === 'merge' && 'Consistent performance across all cases with guaranteed O(n log n).'}\n              </p>\n            </motion.div>\n\n            {/* Space Complexity */}\n            <motion.div\n              className=\"bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-xl p-6 border border-purple-400/30\"\n              whileHover={{ scale: 1.02, boxShadow: '0 0 25px rgba(168, 85, 247, 0.4)' }}\n              transition={{ duration: 0.3 }}\n            >\n              <div className=\"flex items-center gap-2 mb-3\">\n                <BarChart3 className=\"w-5 h-5 text-purple-400\" />\n                <h3 className=\"text-lg font-semibold text-purple-300\">Space Complexity</h3>\n              </div>\n              <motion.div\n                className=\"text-4xl font-bold font-mono text-white mb-2\"\n                key={`space-${selectedAlgorithm}`}\n                initial={{ scale: 1.3, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                transition={{ duration: 0.5, type: \"spring\" }}\n              >\n                {selectedAlgorithm === 'merge' ? 'O(n)' : 'O(1)'}\n              </motion.div>\n              <p className=\"text-sm text-gray-400 leading-relaxed\">\n                {selectedAlgorithm === 'bubble' && 'In-place sorting with only a constant amount of extra space needed.'}\n                {selectedAlgorithm === 'insertion' && 'In-place sorting requiring only constant extra memory.'}\n                {selectedAlgorithm === 'quick' && 'In-place with O(log n) stack space for recursion.'}\n                {selectedAlgorithm === 'merge' && 'Requires additional array space proportional to input size.'}\n              </p>\n            </motion.div>\n          </div>\n\n          {/* Algorithm Description */}\n          <motion.div\n            className=\"mt-6 bg-gradient-to-r from-gray-700/30 to-gray-800/30 rounded-xl p-6 border border-gray-600/30\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.6 }}\n          >\n            <h3 className=\"text-lg font-semibold text-white mb-3 flex items-center gap-2\">\n              <motion.div\n                animate={{ rotate: [0, 10, -10, 0] }}\n                transition={{ duration: 2, repeat: Infinity, repeatDelay: 3 }}\n              >\n                \ufffd\ufffd\n              </motion.div>\n              How It Works\n            </h3>\n            <p className=\"text-gray-300 leading-relaxed\">\n              {selectedAlgorithm === 'bubble' && \n                'Bubble Sort repeatedly steps through the list, compares adjacent elements and swaps them if they are in the wrong order. The pass through the list is repeated until the list is sorted. Larger elements \"bubble\" to the end with each iteration.'\n              }\n              {selectedAlgorithm === 'insertion' && \n                'Insertion Sort builds the final sorted array one item at a time. It iterates through the input, removing one element per iteration and finding the location it belongs within the sorted list, then inserting it there. Efficient for small data sets and nearly sorted arrays.'\n              }\n              {selectedAlgorithm === 'quick' && \n                'Quick Sort is a divide-and-conquer algorithm that picks a pivot element and partitions the array around it, placing smaller elements before and larger elements after. It then recursively sorts the sub-arrays. One of the fastest sorting algorithms in practice.'\n              }\n              {selectedAlgorithm === 'merge' && \n                'Merge Sort divides the array into two halves, recursively sorts them, and then merges the two sorted halves. It guarantees O(n log n) performance but requires additional memory. Stable and predictable, making it ideal for large datasets.'\n              }\n            </p>\n          </motion.div>\n\n          {/* Best Use Cases */}\n          <motion.div\n            className=\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\"\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.8 }}\n          >\n            <div className=\"bg-green-500/10 rounded-lg p-4 border border-green-400/30\">\n              <div className=\"text-green-400 font-semibold mb-2 flex items-center gap-2\">\n                <span className=\"text-xl\">\u2713</span>\n                Best For\n              </div>\n              <p className=\"text-sm text-gray-300\">\n                {selectedAlgorithm === 'bubble' && 'Small datasets, educational purposes, nearly sorted data'}\n                {selectedAlgorithm === 'insertion' && 'Small datasets, nearly sorted data, online sorting'}\n                {selectedAlgorithm === 'quick' && 'Large datasets, general-purpose sorting, in-memory sorting'}\n                {selectedAlgorithm === 'merge' && 'Large datasets, stable sorting, linked lists, external sorting'}\n              </p>\n            </div>\n\n            <div className=\"bg-yellow-500/10 rounded-lg p-4 border border-yellow-400/30\">\n              <div className=\"text-yellow-400 font-semibold mb-2 flex items-center gap-2\">\n                <span className=\"text-xl\">\u26a1</span>\n                Performance\n              </div>\n              <p className=\"text-sm text-gray-300\">\n                {selectedAlgorithm === 'bubble' && 'Slow for large datasets, many comparisons and swaps'}\n                {selectedAlgorithm === 'insertion' && 'Fast for small/nearly sorted data, adaptive algorithm'}\n                {selectedAlgorithm === 'quick' && 'Very fast average case, cache-friendly, in-place'}\n                {selectedAlgorithm === 'merge' && 'Consistent speed, predictable, parallelizable'}\n              </p>\n            </div>\n\n            <div className=\"bg-red-500/10 rounded-lg p-4 border border-red-400/30\">\n              <div className=\"text-red-400 font-semibold mb-2 flex items-center gap-2\">\n                <span className=\"text-xl\">\u26a0</span>\n                Limitations\n              </div>\n              <p className=\"text-sm text-gray-300\">\n                {selectedAlgorithm === 'bubble' && 'Inefficient for large datasets, O(n\u00b2) comparisons'}\n                {selectedAlgorithm === 'insertion' && 'Poor performance on reverse-sorted or random data'}\n                {selectedAlgorithm === 'quick' && 'Unstable sort, worst case O(n\u00b2), recursive overhead'}\n                {selectedAlgorithm === 'merge' && 'Requires O(n) extra space, not in-place'}\n              </p>\n            </div>\n          </motion.div>\n        </motion.div>\n      </div>\n    </div>\n  );\n}",
  "error": null,
  "overall_score": 41,
  "code_quality_score": 12,
  "architecture_score": 10,
  "performance_score": 8,
  "accessibility_score": 11,
  "metadata": {
    "document_id": "eval_room_1a87d7d0bccc",
    "prompt_category": "creative",
    "prompt_complexity": 9.0
  },
  "raw_response": {
    "document_id": "eval_room_1a87d7d0bccc",
    "mode": "parallel",
    "prompt": "Build a captivating algorithm visualizer with neon colored bars, smooth height transitions, glowing comparison indicators, trail effects during swaps, and a futuristic dashboard design with animated controls",
    "content": "import { useState, useCallback } from 'react';import { useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Slider } from '@/components/ui/slider';\nimport { Play, Pause, RotateCcw, Zap, BarChart3 } from 'lucide-react';\nimport { motion } from 'framer-motion';\n\ninterface ArrayElement {\n  value: number;\n  id: string;\n  isComparing?: boolean;\n  isSwapping?: boolean;\n  isSorted?: boolean;\n}\n\ninterface AlgorithmStep {\n  array: ArrayElement[];\n  comparingIndices: number[];\n  swappingIndices: number[];\n  sortedIndices: number[];\n}\n\ntype AlgorithmType = 'bubble' | 'quick' | 'merge' | 'insertion';\n\nconst NEON_COLORS = [\n  '#00ffff',\n  '#ff00ff', \n  '#00ff00',\n  '#ffff00',\n  '#ff0066',\n  '#00ffaa'\n];\n\nconst mockAlgorithms = [\n  { id: 'bubble', name: 'Bubble Sort', complexity: 'O(n\u00b2)' },\n  { id: 'quick', name: 'Quick Sort', complexity: 'O(n log n)' },\n  { id: 'merge', name: 'Merge Sort', complexity: 'O(n log n)' },\n  { id: 'insertion', name: 'Insertion Sort', complexity: 'O(n\u00b2)' }\n];\n\nexport default function AlgorithmVisualizer() {\n  const [array, setArray] = useState<ArrayElement[]>([]);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [speed, setSpeed] = useState([50]);\n  const [arraySize, setArraySize] = useState([20]);\n  const [selectedAlgorithm, setSelectedAlgorithm] = useState<AlgorithmType>('bubble');\n  const [currentStep, setCurrentStep] = useState(0);\n  const [steps, setSteps] = useState<AlgorithmStep[]>([]);\n\n  const generateRandomArray = useCallback(() => {\n    const newArray: ArrayElement[] = Array.from({ length: arraySize[0] }, (_, index) => ({\n      value: Math.floor(Math.random() * 100) + 5,\n      id: `element-${Date.now()}-${index}`,\n      isComparing: false,\n      isSwapping: false,\n      isSorted: false\n    }));\n    \n    setArray(newArray);\n    setSteps([]);\n    setCurrentStep(0);\n    setIsPlaying(false);\n  }, [arraySize]);\n\n  const resetVisualization = useCallback(() => {\n\nsetIsPlaying(false);\n    setCurrentStep(0);\n    setSteps([]);\n    generateRandomArray();\n    }, [generateRandomArray]);\n\n  const animateSteps = useCallback(() => {\n    if (currentStep >= steps.length) {\n      setIsPlaying(false);\n      return;\n    }\n\n    const step = steps[currentStep];\n    setArray(step.array);\n    setCurrentStep(prev => prev + 1);\n  }, [currentStep, steps]);\n\n\n  useEffect(() => {\n    if (!isPlaying) return;\n\n    const delay = 1000 - (speed[0] * 9.5);\n    const timer = setTimeout(animateSteps, delay);\n\n    return () => clearTimeout(timer);\n  }, [isPlaying, speed, animateSteps]);\n  const startVisualization = useCallback(() => {    if (steps.length === 0) return;\n    if (currentStep >= steps.length) {\n      setCurrentStep(0);\n    }\n    setIsPlaying(true);\n    \n  }, [steps, speed, currentStep]);\n\n  const pauseVisualization = useCallback(() => {\n\n\n    setIsPlaying(false);  }, []);\n\n  const generateSortingSteps = useCallback((algorithm: AlgorithmType) => {\n    const arr = [...array];\n    const newSteps: AlgorithmStep[] = [];\n    \n    const addStep = (comparingIndices: number[] = [], swappingIndices: number[] = [], sortedIndices: number[] = []) => {\n      newSteps.push({\n        array: arr.map((el, idx) => ({\n          ...el,\n          isComparing: comparingIndices.includes(idx),\n          isSwapping: swappingIndices.includes(idx),\n          isSorted: sortedIndices.includes(idx)\n        })),\n        comparingIndices,\n        swappingIndices,\n        sortedIndices\n      });\n    };\n\n    const swap = (i: number, j: number) => {\n      [arr[i], arr[j]] = [arr[j], arr[i]];\n    };\n\n    switch (algorithm) {\n      case 'bubble': {\n        const sorted: number[] = [];\n        for (let i = 0; i < arr.length - 1; i++) {\n          for (let j = 0; j < arr.length - i - 1; j++) {\n            addStep([j, j + 1], [], sorted);\n            if (arr[j].value > arr[j + 1].value) {\n              addStep([j, j + 1], [j, j + 1], sorted);\n              swap(j, j + 1);\n              addStep([], [], sorted);\n            }\n          }\n          sorted.push(arr.length - i - 1);\n          addStep([], [], sorted);\n        }\n        sorted.push(0);\n        addStep([], [], sorted);\n        break;\n      }\n\n      case 'insertion': {\n        const sorted: number[] = [0];\n        addStep([], [], sorted);\n        for (let i = 1; i < arr.length; i++) {\n          let j = i;\n          addStep([j, j - 1], [], sorted);\n          while (j > 0 && arr[j].value < arr[j - 1].value) {\n            addStep([j, j - 1], [j, j - 1], sorted);\n            swap(j, j - 1);\n            j--;\n            addStep([j, j + 1], [], sorted);\n          }\n          sorted.push(i);\n          addStep([], [], sorted);\n        }\n        break;\n      }\n\n      case 'quick': {\n        const sorted: number[] = [];\n        const quickSort = (low: number, high: number) => {\n          if (low < high) {\n            const pivotIdx = partition(low, high);\n            sorted.push(pivotIdx);\n            addStep([], [], sorted);\n            quickSort(low, pivotIdx - 1);\n            quickSort(pivotIdx + 1, high);\n          } else if (low === high) {\n            sorted.push(low);\n            addStep([], [], sorted);\n          }\n        };\n\n        const partition = (low: number, high: number): number => {\n          const pivot = arr[high].value;\n          let i = low - 1;\n          \n          for (let j = low; j < high; j++) {\n            addStep([j, high], [], sorted);\n            if (arr[j].value < pivot) {\n              i++;\n              if (i !== j) {\n                addStep([j, high], [i, j], sorted);\n                swap(i, j);\n              }\n            }\n          }\n          addStep([high], [i + 1, high], sorted);\n          swap(i + 1, high);\n          return i + 1;\n        };\n\n        quickSort(0, arr.length - 1);\n        break;\n      }\n\n      case 'merge': {\n        const sorted: number[] = [];\n        const mergeSort = (left: number, right: number) => {\n          if (left < right) {\n            const mid = Math.floor((left + right) / 2);\n            mergeSort(left, mid);\n            mergeSort(mid + 1, right);\n            merge(left, mid, right);\n          }\n        };\n\n        const merge = (left: number, mid: number, right: number) => {\n          const leftArr = arr.slice(left, mid + 1);\n          const rightArr = arr.slice(mid + 1, right + 1);\n          \n          let i = 0, j = 0, k = left;\n          \n          while (i < leftArr.length && j < rightArr.length) {\n            addStep([left + i, mid + 1 + j], [], sorted);\n            if (leftArr[i].value <= rightArr[j].value) {\n              arr[k] = leftArr[i];\n              i++;\n            } else {\n              arr[k] = rightArr[j];\n              j++;\n            }\n            k++;\n          }\n          \n          while (i < leftArr.length) {\n            arr[k] = leftArr[i];\n            i++;\n            k++;\n          }\n          \n          while (j < rightArr.length) {\n            arr[k] = rightArr[j];\n            j++;\n            k++;\n          }\n          \n          for (let idx = left; idx <= right; idx++) {\n            if (!sorted.includes(idx)) {\n              sorted.push(idx);\n            }\n          }\n          addStep([], [], sorted);\n        };\n\n        mergeSort(0, arr.length - 1);\n        break;\n      }\n    }\n\n    setSteps(newSteps);\n    setCurrentStep(0);\n  }, [array]);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 p-8\">\n      <div className=\"max-w-7xl mx-auto space-y-8\">\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8 }}\n          className=\"text-center space-y-4\"\n        >\n          <motion.h1\n            className=\"text-6xl font-bold bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent\"\n            animate={{\n              textShadow: [\n                '0 0 20px rgba(0, 255, 255, 0.5)',\n                '0 0 40px rgba(255, 0, 255, 0.5)',\n                '0 0 20px rgba(0, 255, 255, 0.5)'\n              ]\n            }}\n            transition={{ duration: 2, repeat: Infinity }}\n          >\n            Algorithm Visualizer\n          </motion.h1>\n          <div className=\"flex items-center justify-center gap-4\">\n            <motion.div\n              className=\"text-2xl font-semibold text-cyan-300\"\n              animate={{ opacity: [0.7, 1, 0.7] }}\n              transition={{ duration: 2, repeat: Infinity }}\n            >\n              {mockAlgorithms.find(a => a.id === selectedAlgorithm)?.name}\n            </motion.div>\n            <motion.div\n              className=\"px-4 py-2 rounded-full bg-purple-500/20 border border-purple-400 backdrop-blur-sm\"\n              whileHover={{ scale: 1.05, boxShadow: '0 0 20px rgba(168, 85, 247, 0.6)' }}\n            >\n              <div className=\"flex items-center gap-2\">\n                <BarChart3 className=\"w-5 h-5 text-purple-300\" />\n                <span className=\"text-purple-200 font-mono\">\n                  {mockAlgorithms.find(a => a.id === selectedAlgorithm)?.complexity}\n                </span>\n              </div>\n            </motion.div>\n          </div>\n        </motion.div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n          <div className=\"lg:col-span-1 space-y-6\">\n                        <motion.div\n              initial={{ opacity: 0, x: -50 }}\n              animate={{ opacity: 1, x: 0 }}\n              className=\"bg-gray-800/50 backdrop-blur-lg rounded-2xl p-6 border border-cyan-500/30 shadow-[0_0_30px_rgba(0,255,255,0.3)] space-y-6\"\n            >\n              {/* Algorithm Selection */}\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-2 text-cyan-400 mb-4\">\n                  <Zap className=\"w-5 h-5\" />\n                  <h3 className=\"font-bold text-lg\">Algorithm</h3>\n                </div>\n                <div className=\"grid grid-cols-1 gap-2\">\n                  {mockAlgorithms.map((algo) => (\n                    <motion.button\n                      key={algo.id}\n                      whileHover={{ scale: 1.02 }}\n                      whileTap={{ scale: 0.98 }}\n                      onClick={() => setSelectedAlgorithm(algo.id as AlgorithmType)}\n                      className={`p-3 rounded-lg border transition-all duration-300 text-left ${\n                        selectedAlgorithm === algo.id\n                          ? 'bg-cyan-500/20 border-cyan-400 shadow-[0_0_20px_rgba(0,255,255,0.4)]'\n                          : 'bg-gray-700/30 border-gray-600 hover:border-cyan-500/50'\n                      }`}\n                    >\n                      <div className=\"font-semibold text-white\">{algo.name}</div>\n                      <div className=\"text-xs text-gray-400 mt-1\">{algo.complexity}</div>\n                    </motion.button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Array Size Control */}\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-2 text-purple-400\">\n                  <BarChart3 className=\"w-5 h-5\" />\n                  <h3 className=\"font-bold\">Array Size</h3>\n                </div>\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-400\">Elements</span>\n                    <span className=\"text-white font-mono\">{arraySize[0]}</span>\n                  </div>\n                  <Slider\n                    value={arraySize}\n                    onValueChange={setArraySize}\n                    min={5}\n                    max={50}\n                    step={1}\n                    className=\"cursor-pointer\"\n                    disabled={isPlaying}\n                  />\n                </div>\n              </div>\n\n              {/* Speed Control */}\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-2 text-pink-400\">\n                  <Zap className=\"w-5 h-5\" />\n                  <h3 className=\"font-bold\">Speed</h3>\n                </div>\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-400\">Animation</span>\n                    <span className=\"text-white font-mono\">{speed[0]}%</span>\n                  </div>\n                  <Slider\n                    value={speed}\n                    onValueChange={setSpeed}\n                    min={10}\n                    max={100}\n                    step={10}\n                    className=\"cursor-pointer\"\n                  />\n                </div>\n              </div>\n\n              {/* Control Buttons */}\n              <div className=\"space-y-3 pt-4 border-t border-gray-700\">\n                <Button\n                  onClick={isPlaying ? pauseVisualization : startVisualization}\n                  disabled={steps.length === 0 || currentStep >= steps.length}\n                  className=\"w-full bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white font-bold py-6 rounded-lg shadow-[0_0_20px_rgba(0,255,255,0.5)] transition-all duration-300\"\n                >\n                  {isPlaying ? (\n                    <>\n                      <Pause className=\"w-5 h-5 mr-2\" />\n                      Pause\n                    </>\n                  ) : (\n                    <>\n                      <Play className=\"w-5 h-5 mr-2\" />\n                      {currentStep >= steps.length ? 'Finished' : 'Start'}\n                    </>\n                  )}\n                </Button>\n\n                <Button\n                  onClick={resetVisualization}\n                  variant=\"outline\"\n                  className=\"w-full border-2 border-purple-500/50 bg-purple-500/10 hover:bg-purple-500/20 text-purple-300 font-bold py-6 rounded-lg shadow-[0_0_15px_rgba(168,85,247,0.4)] transition-all duration-300\"\n                >\n                  <RotateCcw className=\"w-5 h-5 mr-2\" />\n                  Reset\n                </Button>\n\n                <Button\n                  onClick={() => {\n                    generateRandomArray();\n                    generateSortingSteps(selectedAlgorithm);\n                  }}\n                  variant=\"outline\"\n                  disabled={isPlaying}\n                  className=\"w-full border-2 border-pink-500/50 bg-pink-500/10 hover:bg-pink-500/20 text-pink-300 font-bold py-6 rounded-lg shadow-[0_0_15px_rgba(236,72,153,0.4)] transition-all duration-300\"\n                >\n                  <Zap className=\"w-5 h-5 mr-2\" />\n                  Generate New\n                </Button>\n              </div>\n\n              {/* Progress Indicator */}\n              {steps.length > 0 && (\n                <div className=\"space-y-2 pt-4 border-t border-gray-700\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-400\">Progress</span>\n                    <span className=\"text-white font-mono\">\n                      {currentStep} / {steps.length}\n                    </span>\n                  </div>\n                  <div className=\"w-full h-2 bg-gray-700 rounded-full overflow-hidden\">\n                    <motion.div\n                      className=\"h-full bg-gradient-to-r from-cyan-500 via-purple-500 to-pink-500\"\n                      initial={{ width: 0 }}\n                      animate={{ width: `${(currentStep / steps.length) * 100}%` }}\n                      transition={{ duration: 0.3 }}\n                    />\n                  </div>\n                </div>\n              )}\n            </motion.div>\n            \n            <div className=\"bg-gray-800/50 backdrop-blur-lg rounded-2xl p-6 border border-cyan-500/30 shadow-lg shadow-cyan-500/20\">\n              <div className=\"space-y-6\">\n                <div>\n                  <h3 className=\"text-cyan-400 font-semibold mb-4 flex items-center gap-2\">\n                    <Zap className=\"w-5 h-5\" />\n                    Algorithm\n                  </h3>\n                  <div className=\"space-y-2\">\n                    {mockAlgorithms.map((algo) => (\n                      <motion.button\n                        key={algo.id}\n                        onClick={() => setSelectedAlgorithm(algo.id as AlgorithmType)}\n                        className={`w-full text-left px-4 py-3 rounded-lg font-medium transition-all ${\n                          selectedAlgorithm === algo.id\n                            ? 'bg-cyan-500/20 text-cyan-300 border border-cyan-400/50 shadow-lg shadow-cyan-500/50'\n                            : 'bg-gray-700/50 text-gray-300 border border-gray-600/30 hover:border-cyan-400/30 hover:shadow-md hover:shadow-cyan-500/20'\n                        }`}\n                        whileHover={{ scale: 1.02 }}\n                        whileTap={{ scale: 0.98 }}\n                      >\n                        <div className=\"flex justify-between items-center\">\n                          <span>{algo.name}</span>\n                          <span className=\"text-xs opacity-70\">{algo.complexity}</span>\n                        </div>\n                      </motion.button>\n                    ))}\n                  </div></parameter>\n                </div>\n\n                <div>\n                  <h3 className=\"text-cyan-400 font-semibold mb-4 flex items-center gap-2\">\n                    <BarChart3 className=\"w-5 h-5\" />\n                    Array Size: {arraySize[0]}\n                  </h3>\n                  <Slider\n                    value={arraySize}\n                    onValueChange={setArraySize}\n                    min={5}\n                    max={50}\n                    step={1}\n                    className=\"[&_[role=slider]]:bg-cyan-400 [&_[role=slider]]:border-cyan-300 [&_[role=slider]]:shadow-lg [&_[role=slider]]:shadow-cyan-400/50 [&_[role=slider]]:transition-all [&_[role=slider]]:hover:shadow-cyan-400/80 [&_[role=slider]]:hover:scale-110\"\n                    disabled={isPlaying}\n                  />\n                </div>\n\n                <div>\n                  <h3 className=\"text-cyan-400 font-semibold mb-4\">\n                    Speed: {speed[0]}ms\n                  </h3>\n                  <Slider\n                    value={speed}\n                    onValueChange={setSpeed}\n                    min={10}\n                    max={500}\n                    step={10}\n                    className=\"cursor-pointer [&_[role=slider]]:bg-gradient-to-r [&_[role=slider]]:from-purple-500 [&_[role=slider]]:to-pink-500 [&_[role=slider]]:border-0 [&_[role=slider]]:shadow-lg [&_[role=slider]]:shadow-purple-500/50 [&_[role=slider]]:transition-shadow [&_[role=slider]]:hover:shadow-xl [&_[role=slider]]:hover:shadow-purple-500/70 [&_[role=slider]]:h-5 [&_[role=slider]]:w-5 [&>span]:bg-gradient-to-r [&>span]:from-cyan-500/30 [&>span]:to-purple-500/30 [&>span]:h-2\"\n                  /></parameter>\n                </div>\n\n                <div className=\"space-y-3 pt-4 border-t border-cyan-500/20\">\n                  <motion.button\n                    onClick={() => {\n                      if (isPlaying) {\n                        pauseVisualization();\n                      } else {\n                        if (steps.length === 0) {\n                          generateSortingSteps(selectedAlgorithm);\n                        }\n                        startVisualization();\n                      }\n                    }}\n                    disabled={array.length === 0}\n                    className=\"w-full relative overflow-hidden bg-gradient-to-r from-cyan-500 to-purple-500 text-white font-bold py-4 px-6 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed shadow-lg\"\n                    whileHover={{ scale: 1.05, boxShadow: '0 0 30px rgba(0, 255, 255, 0.6)' }}\n                    whileTap={{ scale: 0.95 }}\n                    animate={{\n                      boxShadow: isPlaying \n                        ? ['0 0 20px rgba(0, 255, 255, 0.5)', '0 0 40px rgba(138, 43, 226, 0.5)', '0 0 20px rgba(0, 255, 255, 0.5)']\n                        : '0 0 20px rgba(0, 255, 255, 0.3)'\n                    }}\n                    transition={{ duration: 2, repeat: isPlaying ? Infinity : 0 }}\n                  >\n                    <motion.div\n                      className=\"flex items-center justify-center gap-3\"\n                      initial={false}\n                      animate={{ scale: isPlaying ? [1, 1.1, 1] : 1 }}\n                      transition={{ duration: 0.5, repeat: isPlaying ? Infinity : 0 }}\n                    >\n                      <motion.div\n                        initial={false}\n                        animate={{ rotate: isPlaying ? 0 : 0 }}\n                        transition={{ duration: 0.3 }}\n                      >\n                        {isPlaying ? (\n                          <motion.div\n                            key=\"pause\"\n                            initial={{ scale: 0, rotate: -180 }}\n                            animate={{ scale: 1, rotate: 0 }}\n                            exit={{ scale: 0, rotate: 180 }}\n                            transition={{ duration: 0.3 }}\n                          >\n                            <Pause className=\"w-6 h-6\" />\n                          </motion.div>\n                        ) : (\n                          <motion.div\n                            key=\"play\"\n                            initial={{ scale: 0, rotate: -180 }}\n                            animate={{ scale: 1, rotate: 0 }}\n                            exit={{ scale: 0, rotate: 180 }}\n                            transition={{ duration: 0.3 }}\n                          >\n                            <Play className=\"w-6 h-6\" />\n                          </motion.div>\n                        )}\n                      </motion.div>\n                      <span className=\"text-lg\">\n                        {isPlaying ? 'Pause' : 'Start Visualization'}\n                      </span>\n                    </motion.div>\n                    <motion.div\n                      className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent\"\n                      initial={{ x: '-100%' }}\n                      animate={{ x: isPlaying ? '100%' : '-100%' }}\n                      transition={{ duration: 1.5, repeat: isPlaying ? Infinity : 0, ease: 'linear' }}\n                    />\n                  </motion.button>\n                  \n                  <motion.div whileTap={{ rotate: 360 }} transition={{ duration: 0.6 }}>\n                    <Button\n                      onClick={resetVisualization}\n                      variant=\"outline\"\n                      className=\"w-full bg-purple-500/20 border-purple-400 text-purple-300 hover:bg-purple-500/30 hover:shadow-lg hover:shadow-purple-500/50 transition-all\"\n                      disabled={isPlaying}\n                    >\n                      <RotateCcw className=\"w-4 h-4 mr-2\" />\n                      Reset\n                    </Button>\n                  </motion.div>\n                  \n                  {/* TODO:GenerateButton Generate new array button with pulse effect */}\n                </div>\n              </div>\n            </div>\n\n            <motion.div\n              initial={{ opacity: 0, x: -50 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ delay: 0.2 }}\n              className=\"bg-gray-800/50 backdrop-blur-lg rounded-2xl p-6 border border-purple-500/30 shadow-[0_0_30px_rgba(168,85,247,0.3)] space-y-4\"\n            >\n              <div className=\"flex items-center gap-2 text-purple-400 mb-4\">\n                <BarChart3 className=\"w-5 h-5\" />\n                <h3 className=\"font-bold text-lg\">Statistics</h3>\n              </div>\n\n              <div className=\"space-y-4\">\n                {/* Current Step */}\n                <motion.div\n                  className=\"bg-gradient-to-r from-cyan-500/10 to-purple-500/10 rounded-lg p-4 border border-cyan-400/30\"\n                  whileHover={{ scale: 1.02, boxShadow: '0 0 20px rgba(0, 255, 255, 0.3)' }}\n                >\n                  <div className=\"text-sm text-gray-400 mb-1\">Current Step</div>\n                  <div className=\"flex items-baseline gap-2\">\n                    <motion.span\n                      className=\"text-3xl font-bold text-cyan-300 font-mono\"\n                      key={currentStep}\n                      initial={{ scale: 1.2, color: '#00ffff' }}\n                      animate={{ scale: 1, color: '#67e8f9' }}\n                      transition={{ duration: 0.3 }}\n                    >\n                      {currentStep}\n                    </motion.span>\n                    <span className=\"text-gray-500\">/ {steps.length}</span>\n                  </div>\n                  {steps.length > 0 && (\n                    <div className=\"mt-2 h-2 bg-gray-700/50 rounded-full overflow-hidden\">\n                      <motion.div\n                        className=\"h-full bg-gradient-to-r from-cyan-400 to-purple-400\"\n                        initial={{ width: 0 }}\n                        animate={{ width: `${(currentStep / steps.length) * 100}%` }}\n                        transition={{ duration: 0.3 }}\n                      />\n                    </div>\n                  )}\n                </motion.div>\n\n                {/* Comparisons */}\n                <motion.div\n                  className=\"bg-gradient-to-r from-yellow-500/10 to-orange-500/10 rounded-lg p-4 border border-yellow-400/30\"\n                  whileHover={{ scale: 1.02, boxShadow: '0 0 20px rgba(255, 255, 0, 0.3)' }}\n                >\n                  <div className=\"text-sm text-gray-400 mb-1\">Comparisons</div>\n                  <motion.div\n                    className=\"text-3xl font-bold text-yellow-300 font-mono\"\n                    key={steps.filter(s => s.comparingIndices.length > 0).length}\n                    initial={{ scale: 1.2 }}\n                    animate={{ scale: 1 }}\n                    transition={{ duration: 0.3 }}\n                  >\n                    {steps.slice(0, currentStep).filter(s => s.comparingIndices.length > 0).length}\n                  </motion.div>\n                  <div className=\"text-xs text-gray-500 mt-1\">Total comparisons made</div>\n                </motion.div>\n\n                {/* Swaps */}\n                <motion.div\n                  className=\"bg-gradient-to-r from-pink-500/10 to-red-500/10 rounded-lg p-4 border border-pink-400/30\"\n                  whileHover={{ scale: 1.02, boxShadow: '0 0 20px rgba(255, 0, 255, 0.3)' }}\n                >\n                  <div className=\"text-sm text-gray-400 mb-1\">Swaps</div>\n                  <motion.div\n                    className=\"text-3xl font-bold text-pink-300 font-mono\"\n                    key={steps.filter(s => s.swappingIndices.length > 0).length}\n                    initial={{ scale: 1.2 }}\n                    animate={{ scale: 1 }}\n                    transition={{ duration: 0.3 }}\n                  >\n                    {steps.slice(0, currentStep).filter(s => s.swappingIndices.length > 0).length}\n                  </motion.div>\n                  <div className=\"text-xs text-gray-500 mt-1\">Array elements swapped</div>\n                </motion.div>\n\n                {/* Sorted Elements */}\n                <motion.div\n                  className=\"bg-gradient-to-r from-green-500/10 to-emerald-500/10 rounded-lg p-4 border border-green-400/30\"\n                  whileHover={{ scale: 1.02, boxShadow: '0 0 20px rgba(0, 255, 0, 0.3)' }}\n                >\n                  <div className=\"text-sm text-gray-400 mb-1\">Sorted Elements</div>\n                  <div className=\"flex items-baseline gap-2\">\n                    <motion.span\n                      className=\"text-3xl font-bold text-green-300 font-mono\"\n                      key={steps[currentStep - 1]?.sortedIndices.length || 0}\n                      initial={{ scale: 1.2 }}\n                      animate={{ scale: 1 }}\n                      transition={{ duration: 0.3 }}\n                    >\n                      {steps[currentStep - 1]?.sortedIndices.length || 0}\n                    </motion.span>\n                    <span className=\"text-gray-500\">/ {array.length}</span>\n                  </div>\n                  {array.length > 0 && (\n                    <div className=\"mt-2 h-2 bg-gray-700/50 rounded-full overflow-hidden\">\n                      <motion.div\n                        className=\"h-full bg-gradient-to-r from-green-400 to-emerald-400\"\n                        initial={{ width: 0 }}\n                        animate={{ \n                          width: `${((steps[currentStep - 1]?.sortedIndices.length || 0) / array.length) * 100}%` \n                        }}\n                        transition={{ duration: 0.3 }}\n                      />\n                    </div>\n                  )}\n                </motion.div>\n\n                {/* Status Indicator */}\n                <motion.div\n                  className=\"bg-gray-700/30 rounded-lg p-4 border border-gray-600/30\"\n                  animate={{\n                    borderColor: isPlaying \n                      ? ['rgba(0, 255, 255, 0.3)', 'rgba(255, 0, 255, 0.3)', 'rgba(0, 255, 255, 0.3)']\n                      : 'rgba(156, 163, 175, 0.3)'\n                  }}\n                  transition={{ duration: 2, repeat: isPlaying ? Infinity : 0 }}\n                >\n                  <div className=\"text-sm text-gray-400 mb-2\">Status</div>\n                  <div className=\"flex items-center gap-2\">\n                    <motion.div\n                      className={`w-3 h-3 rounded-full ${\n                        isPlaying ? 'bg-green-400' : 'bg-gray-500'\n                      }`}\n                      animate={{\n                        boxShadow: isPlaying\n                          ? ['0 0 10px rgba(0, 255, 0, 0.8)', '0 0 20px rgba(0, 255, 0, 0.8)', '0 0 10px rgba(0, 255, 0, 0.8)']\n                          : '0 0 0px rgba(0, 0, 0, 0)'\n                      }}\n                      transition={{ duration: 1, repeat: Infinity }}\n                    />\n                    <span className={`font-semibold ${\n                      isPlaying ? 'text-green-300' : 'text-gray-400'\n                    }`}>\n                      {isPlaying ? 'Running' : currentStep === steps.length && steps.length > 0 ? 'Completed' : 'Idle'}\n                    </span>\n                  </div>\n                </motion.div>\n              </div>\n            </motion.div>\n          </div>\n\n          <div className=\"lg:col-span-3\">\n            <div className=\"bg-gray-800/50 backdrop-blur-lg rounded-2xl p-8 border border-purple-500/30 shadow-lg shadow-purple-500/20 min-h-[600px]\">\n                            {array.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center h-full space-y-6\">\n                  <motion.div\n                    initial={{ scale: 0 }}\n                    animate={{ scale: 1 }}\n                    transition={{ type: \"spring\", stiffness: 200, damping: 15 }}\n                  >\n                    <BarChart3 className=\"w-24 h-24 text-cyan-400/50\" />\n                  </motion.div>\n                  <motion.p\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: 0.2 }}\n                    className=\"text-gray-400 text-xl font-semibold\"\n                  >\n                    Click \"Generate New\" to create an array\n                  </motion.p>\n                  <motion.div\n                    animate={{\n                      boxShadow: [\n                        '0 0 20px rgba(0, 255, 255, 0.3)',\n                        '0 0 40px rgba(168, 85, 247, 0.5)',\n                        '0 0 20px rgba(0, 255, 255, 0.3)'\n                      ]\n                    }}\n                    transition={{ duration: 2, repeat: Infinity }}\n                    className=\"px-6 py-3 rounded-full bg-gradient-to-r from-cyan-500/20 to-purple-500/20 border border-cyan-400/50\"\n                  >\n                    <span className=\"text-cyan-300 font-mono\">Ready to visualize</span>\n                  </motion.div>\n                </div>\n              ) : (\n                <div className=\"relative h-full w-full\">\n                  {/* Progress indicator */}\n                  {steps.length > 0 && (\n                    <motion.div\n                      initial={{ opacity: 0, y: -20 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      className=\"absolute top-0 left-0 right-0 mb-4\"\n                    >\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <span className=\"text-cyan-400 font-semibold\">\n                          Step {currentStep} / {steps.length}\n                        </span>\n                        <span className=\"text-purple-400 font-mono text-sm\">\n                          {Math.round((currentStep / steps.length) * 100)}% Complete\n                        </span>\n                      </div>\n                      <div className=\"h-2 bg-gray-700/50 rounded-full overflow-hidden\">\n                        <motion.div\n                          className=\"h-full bg-gradient-to-r from-cyan-500 via-purple-500 to-pink-500\"\n                          initial={{ width: 0 }}\n                          animate={{ width: `${(currentStep / steps.length) * 100}%` }}\n                          transition={{ duration: 0.3 }}\n                          style={{\n                            boxShadow: '0 0 20px rgba(0, 255, 255, 0.6)'\n                          }}\n                        />\n                      </div>\n                    </motion.div>\n                  )}\n\n                  {/* Visualization bars */}\n                  <div className=\"h-full flex items-end justify-center gap-1 pt-16\">\n                    {(steps.length > 0 && currentStep < steps.length ? steps[currentStep].array : array).map((element, index) => {\n                      const maxValue = Math.max(...array.map(el => el.value));\n                      const heightPercentage = (element.value / maxValue) * 100;\n                      const colorIndex = index % NEON_COLORS.length;\n                      const baseColor = NEON_COLORS[colorIndex];\n\n                      let barColor = baseColor;\n                      let glowColor = baseColor;\n                      let glowIntensity = 0.3;\n\n                      if (element.isSorted) {\n                        barColor = '#00ff00';\n                        glowColor = '#00ff00';\n                        glowIntensity = 0.8;\n                      } else if (element.isSwapping) {\n                        barColor = '#ff0066';\n                        glowColor = '#ff0066';\n                        glowIntensity = 1;\n                      } else if (element.isComparing) {\n                        barColor = '#ffff00';\n                        glowColor = '#ffff00';\n                        glowIntensity = 0.7;\n                      }\n\n                      return (\n                        <motion.div\n                          key={element.id}\n                          className=\"relative flex-1 min-w-[4px] max-w-[60px] rounded-t-lg\"\n                          initial={{ height: 0, opacity: 0 }}\n                          animate={{\n                            height: `${heightPercentage}%`,\n                            opacity: 1,\n                            backgroundColor: barColor,\n                            boxShadow: [\n                              `0 0 ${10 + glowIntensity * 20}px ${glowColor}${Math.round(glowIntensity * 255).toString(16).padStart(2, '0')}`,\n                              `0 0 ${15 + glowIntensity * 30}px ${glowColor}${Math.round(glowIntensity * 255).toString(16).padStart(2, '0')}`,\n                              `0 0 ${10 + glowIntensity * 20}px ${glowColor}${Math.round(glowIntensity * 255).toString(16).padStart(2, '0')}`\n                            ],\n                            scale: element.isSwapping ? [1, 1.1, 1] : element.isComparing ? 1.05 : 1,\n                            y: element.isSwapping ? [0, -20, 0] : 0\n                          }}\n                          transition={{\n                            height: { duration: 0.5, ease: \"easeOut\" },\n                            backgroundColor: { duration: 0.3 },\n                            boxShadow: { duration: 1, repeat: Infinity },\n                            scale: { duration: 0.3 },\n                            y: { duration: 0.5, ease: \"easeInOut\" },\n                            opacity: { duration: 0.5, delay: index * 0.02 }\n                          }}\n                          style={{\n                            background: element.isSorted\n                              ? 'linear-gradient(to top, #00ff00, #00ffaa)'\n                              : element.isSwapping\n                              ? 'linear-gradient(to top, #ff0066, #ff00ff)'\n                              : element.isComparing\n                              ? 'linear-gradient(to top, #ffff00, #ffaa00)'\n                              : `linear-gradient(to top, ${barColor}, ${barColor}dd)`\n                          }}\n                        >\n                          {/* Trail effect for swapping */}\n                          {element.isSwapping && (\n                            <motion.div\n                              className=\"absolute inset-0 rounded-t-lg\"\n                              initial={{ opacity: 0.8, scale: 1 }}\n                              animate={{ opacity: 0, scale: 1.5 }}\n                              transition={{ duration: 0.6, repeat: Infinity }}\n                              style={{\n                                background: `radial-gradient(circle, ${glowColor}80, transparent)`,\n                                filter: 'blur(8px)'\n                              }}\n                            />\n                          )}\n\n                          {/* Value label */}\n                          {arraySize[0] <= 30 && (\n                            <motion.div\n                              className=\"absolute -top-8 left-1/2 transform -translate-x-1/2 text-xs font-bold whitespace-nowrap\"\n                              initial={{ opacity: 0 }}\n                              animate={{ opacity: element.isComparing || element.isSwapping ? 1 : 0.6 }}\n                              style={{ color: barColor }}\n                            >\n                              {element.value}\n                            </motion.div>\n                          )}\n\n                          {/* Glow effect at base */}\n                          <motion.div\n                            className=\"absolute -bottom-1 left-0 right-0 h-2 rounded-full blur-sm\"\n                            animate={{\n                              opacity: [glowIntensity * 0.5, glowIntensity, glowIntensity * 0.5]\n                            }}\n                            transition={{ duration: 1, repeat: Infinity }}\n                            style={{ backgroundColor: glowColor }}\n                          />\n                        </motion.div>\n                      );\n                    })}\n                  </div>\n\n                  {/* Completion celebration */}\n                  {steps.length > 0 && currentStep >= steps.length && (\n                    <motion.div\n                      initial={{ opacity: 0, scale: 0.8 }}\n                      animate={{ opacity: 1, scale: 1 }}\n                      className=\"absolute inset-0 flex items-center justify-center bg-gray-900/80 backdrop-blur-sm rounded-2xl\"\n                    >\n                      <div className=\"text-center space-y-4\">\n                        <motion.div\n                          animate={{\n                            rotate: [0, 360],\n                            scale: [1, 1.2, 1]\n                          }}\n                          transition={{ duration: 2, repeat: Infinity }}\n                        >\n                          <BarChart3 className=\"w-20 h-20 text-cyan-400 mx-auto\" />\n                        </motion.div>\n                        <motion.h2\n                          className=\"text-4xl font-bold bg-gradient-to-r from-cyan-400 via-purple-400 to-pink-400 bg-clip-text text-transparent\"\n                          animate={{\n                            textShadow: [\n                              '0 0 20px rgba(0, 255, 255, 0.5)',\n                              '0 0 40px rgba(255, 0, 255, 0.5)',\n                              '0 0 20px rgba(0, 255, 255, 0.5)'\n                            ]\n                          }}\n                          transition={{ duration: 2, repeat: Infinity }}\n                        >\n                          Sorting Complete!\n                        </motion.h2>\n                        <p className=\"text-gray-400\">Array is now sorted</p>\n                      </div>\n                    </motion.div>\n                  )}\n                </div>\n              )}\n              \n              <div className=\"h-full flex items-end justify-center gap-1\">\n                {array.length === 0 ? (\n                  <motion.div\n                    initial={{ opacity: 0, scale: 0.8 }}\n                    animate={{ opacity: 1, scale: 1 }}\n                    className=\"text-center text-gray-400 text-xl\"\n                  >\n                    <Zap className=\"w-16 h-16 mx-auto mb-4 text-cyan-400 opacity-50\" />\n                    <p>Click \"Generate New\" to create an array</p>\n                  </motion.div>\n                ) : (\n                  array.map((element, index) => {\n                    const colorIndex = index % NEON_COLORS.length;\n                    const neonColor = NEON_COLORS[colorIndex];\n                    const heightPercentage = (element.value / 100) * 100;\n                    \n                    let barColor = neonColor;\n                    let glowIntensity = 0.4;\n                    let scale = 1;\n                    \n                    if (element.isSorted) {\n                      barColor = '#00ff00';\n                      glowIntensity = 0.6;\n                    } else if (element.isSwapping) {\n                      barColor = '#ff0066';\n                      glowIntensity = 0.8;\n                      scale = 1.1;\n                    } else if (element.isComparing) {\n                      barColor = '#ffff00';\n                      glowIntensity = 0.7;\n                      scale = 1.05;\n                    }\n\n                    return (\n                      <motion.div\n                        key={element.id}\n                        layout\n                        initial={{ opacity: 0, y: 50, scale: 0 }}\n                        animate={{\n                          opacity: 1,\n                          y: 0,\n                          scale: scale,\n                          height: `${heightPercentage}%`,\n                        }}\n                        exit={{ opacity: 0, scale: 0 }}\n                        transition={{\n                          layout: { duration: 0.5, type: 'spring', stiffness: 300, damping: 30 },\n                          height: { duration: 0.3, ease: 'easeInOut' },\n                          scale: { duration: 0.2, ease: 'easeOut' },\n                          opacity: { duration: 0.3 }\n                        }}\n                        className=\"relative flex-1 min-w-[8px] max-w-[60px] rounded-t-lg\"\n                        style={{\n                          backgroundColor: barColor,\n                          boxShadow: `\n                            0 0 ${20 * glowIntensity}px ${barColor},\n                            0 0 ${40 * glowIntensity}px ${barColor},\n                            inset 0 0 ${10 * glowIntensity}px rgba(255, 255, 255, 0.3)\n                          `,\n                          border: `2px solid ${barColor}`,\n                          minHeight: '20px'\n                        }}\n                      >\n                        {/* Trail effect for swapping */}\n                        {element.isSwapping && (\n                          <motion.div\n                            className=\"absolute inset-0 rounded-t-lg\"\n                            style={{\n                              backgroundColor: barColor,\n                              opacity: 0.5\n                            }}\n                            animate={{\n                              opacity: [0.5, 0, 0.5],\n                              scale: [1, 1.2, 1]\n                            }}\n                            transition={{\n                              duration: 0.6,\n                              repeat: Infinity,\n                              ease: 'easeInOut'\n                            }}\n                          />\n                        )}\n\n                        {/* Pulse effect for comparing */}\n                        {element.isComparing && (\n                          <motion.div\n                            className=\"absolute -inset-1 rounded-t-lg\"\n                            style={{\n                              border: `2px solid ${barColor}`,\n                              opacity: 0.6\n                            }}\n                            animate={{\n                              scale: [1, 1.15, 1],\n                              opacity: [0.6, 0, 0.6]\n                            }}\n                            transition={{\n                              duration: 0.8,\n                              repeat: Infinity,\n                              ease: 'easeInOut'\n                            }}\n                          />\n                        )}\n\n                        {/* Sparkle effect for sorted */}\n                        {element.isSorted && (\n                          <motion.div\n                            className=\"absolute inset-0 rounded-t-lg\"\n                            initial={{ opacity: 0 }}\n                            animate={{\n                              opacity: [0, 1, 0],\n                            }}\n                            transition={{\n                              duration: 1,\n                              ease: 'easeInOut'\n                            }}\n                            style={{\n                              background: `linear-gradient(180deg, rgba(255,255,255,0.8) 0%, transparent 100%)`\n                            }}\n                          />\n                        )}\n\n                        {/* Value label */}\n                        <motion.div\n                          className=\"absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-xs font-mono font-bold whitespace-nowrap\"\n                          style={{\n                            color: barColor,\n                            textShadow: `0 0 10px ${barColor}`\n                          }}\n                          animate={{\n                            scale: element.isComparing || element.isSwapping ? [1, 1.2, 1] : 1\n                          }}\n                          transition={{\n                            duration: 0.3,\n                            repeat: element.isComparing || element.isSwapping ? Infinity : 0\n                          }}\n                        >\n                          {element.value}\n                        </motion.div>\n\n                        {/* Gradient overlay */}\n                        <div\n                          className=\"absolute inset-0 rounded-t-lg pointer-events-none\"\n                          style={{\n                            background: 'linear-gradient(180deg, rgba(255,255,255,0.2) 0%, transparent 50%, rgba(0,0,0,0.2) 100%)'\n                          }}\n                        />\n                      </motion.div>\n                    );\n                  })\n                )}\n              </div>\n            </div>\n\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.3 }}\n              className=\"mt-6 bg-gray-800/50 backdrop-blur-lg rounded-2xl p-6 border border-pink-500/30 shadow-[0_0_30px_rgba(236,72,153,0.3)]\"\n            >\n              <div className=\"flex items-center gap-2 text-pink-400 mb-4\">\n                <BarChart3 className=\"w-5 h-5\" />\n                <h3 className=\"font-bold text-lg\">Legend</h3>\n              </div>\n              \n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                <motion.div\n                  className=\"flex items-center gap-3 p-3 rounded-lg bg-gray-700/30 border border-gray-600/50\"\n                  whileHover={{ scale: 1.05, boxShadow: '0 0 15px rgba(100, 100, 100, 0.4)' }}\n                >\n                  <motion.div\n                    className=\"w-8 h-12 rounded bg-gradient-to-t from-cyan-500 to-cyan-300\"\n                    animate={{\n                      boxShadow: [\n                        '0 0 10px rgba(0, 255, 255, 0.5)',\n                        '0 0 20px rgba(0, 255, 255, 0.8)',\n                        '0 0 10px rgba(0, 255, 255, 0.5)'\n                      ]\n                    }}\n                    transition={{ duration: 2, repeat: Infinity }}\n                  />\n                  <div>\n                    <div className=\"text-white font-semibold text-sm\">Normal</div>\n                    <div className=\"text-gray-400 text-xs\">Unsorted</div>\n                  </div>\n                </motion.div>\n\n                <motion.div\n                  className=\"flex items-center gap-3 p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/50\"\n                  whileHover={{ scale: 1.05, boxShadow: '0 0 15px rgba(255, 255, 0, 0.4)' }}\n                >\n                  <motion.div\n                    className=\"w-8 h-12 rounded bg-gradient-to-t from-yellow-500 to-yellow-300\"\n                    animate={{\n                      boxShadow: [\n                        '0 0 15px rgba(255, 255, 0, 0.6)',\n                        '0 0 30px rgba(255, 255, 0, 0.9)',\n                        '0 0 15px rgba(255, 255, 0, 0.6)'\n                      ],\n                      scale: [1, 1.1, 1]\n                    }}\n                    transition={{ duration: 1.5, repeat: Infinity }}\n                  />\n                  <div>\n                    <div className=\"text-white font-semibold text-sm\">Comparing</div>\n                    <div className=\"text-gray-400 text-xs\">Checking</div>\n                  </div>\n                </motion.div>\n\n                <motion.div\n                  className=\"flex items-center gap-3 p-3 rounded-lg bg-orange-500/10 border border-orange-500/50\"\n                  whileHover={{ scale: 1.05, boxShadow: '0 0 15px rgba(255, 165, 0, 0.4)' }}\n                >\n                  <motion.div\n                    className=\"w-8 h-12 rounded bg-gradient-to-t from-orange-500 to-orange-300\"\n                    animate={{\n                      boxShadow: [\n                        '0 0 20px rgba(255, 165, 0, 0.7)',\n                        '0 0 40px rgba(255, 165, 0, 1)',\n                        '0 0 20px rgba(255, 165, 0, 0.7)'\n                      ],\n                      scale: [1, 1.15, 1],\n                      y: [0, -5, 0]\n                    }}\n                    transition={{ duration: 1, repeat: Infinity }}\n                  />\n                  <div>\n                    <div className=\"text-white font-semibold text-sm\">Swapping</div>\n                    <div className=\"text-gray-400 text-xs\">Moving</div>\n                  </div>\n                </motion.div>\n\n                <motion.div\n                  className=\"flex items-center gap-3 p-3 rounded-lg bg-green-500/10 border border-green-500/50\"\n                  whileHover={{ scale: 1.05, boxShadow: '0 0 15px rgba(0, 255, 0, 0.4)' }}\n                >\n                  <motion.div\n                    className=\"w-8 h-12 rounded bg-gradient-to-t from-green-500 to-green-300\"\n                    animate={{\n                      boxShadow: [\n                        '0 0 10px rgba(0, 255, 0, 0.5)',\n                        '0 0 20px rgba(0, 255, 0, 0.8)',\n                        '0 0 10px rgba(0, 255, 0, 0.5)'\n                      ]\n                    }}\n                    transition={{ duration: 2, repeat: Infinity }}\n                  />\n                  <div>\n                    <div className=\"text-white font-semibold text-sm\">Sorted</div>\n                    <div className=\"text-gray-400 text-xs\">Complete</div>\n                  </div>\n                </motion.div>\n              </div>\n            </motion.div>\n          </div>\n        </div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.4, duration: 0.8 }}\n          className=\"bg-gray-800/50 backdrop-blur-lg rounded-2xl p-8 border border-cyan-500/30 shadow-[0_0_30px_rgba(0,255,255,0.2)]\"\n        >\n          <div className=\"flex items-center gap-3 mb-6\">\n            <motion.div\n              animate={{\n                rotate: [0, 360],\n                scale: [1, 1.2, 1]\n              }}\n              transition={{ duration: 3, repeat: Infinity, ease: \"easeInOut\" }}\n            >\n              <BarChart3 className=\"w-7 h-7 text-cyan-400\" />\n            </motion.div>\n            <h2 className=\"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent\">\n              Algorithm Complexity\n            </h2>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {/* Time Complexity */}\n            <motion.div\n              className=\"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 rounded-xl p-6 border border-cyan-400/30\"\n              whileHover={{ scale: 1.02, boxShadow: '0 0 25px rgba(0, 255, 255, 0.4)' }}\n              transition={{ duration: 0.3 }}\n            >\n              <div className=\"flex items-center gap-2 mb-3\">\n                <Zap className=\"w-5 h-5 text-cyan-400\" />\n                <h3 className=\"text-lg font-semibold text-cyan-300\">Time Complexity</h3>\n              </div>\n              <motion.div\n                className=\"text-4xl font-bold font-mono text-white mb-2\"\n                key={`time-${selectedAlgorithm}`}\n                initial={{ scale: 1.3, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                transition={{ duration: 0.5, type: \"spring\" }}\n              >\n                {mockAlgorithms.find(a => a.id === selectedAlgorithm)?.complexity}\n              </motion.div>\n              <p className=\"text-sm text-gray-400 leading-relaxed\">\n                {selectedAlgorithm === 'bubble' && 'Worst and average case. Best case O(n) when array is already sorted.'}\n                {selectedAlgorithm === 'insertion' && 'Worst and average case. Best case O(n) when array is nearly sorted.'}\n                {selectedAlgorithm === 'quick' && 'Average case. Worst case O(n\u00b2) with poor pivot selection.'}\n                {selectedAlgorithm === 'merge' && 'Consistent performance across all cases with guaranteed O(n log n).'}\n              </p>\n            </motion.div>\n\n            {/* Space Complexity */}\n            <motion.div\n              className=\"bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-xl p-6 border border-purple-400/30\"\n              whileHover={{ scale: 1.02, boxShadow: '0 0 25px rgba(168, 85, 247, 0.4)' }}\n              transition={{ duration: 0.3 }}\n            >\n              <div className=\"flex items-center gap-2 mb-3\">\n                <BarChart3 className=\"w-5 h-5 text-purple-400\" />\n                <h3 className=\"text-lg font-semibold text-purple-300\">Space Complexity</h3>\n              </div>\n              <motion.div\n                className=\"text-4xl font-bold font-mono text-white mb-2\"\n                key={`space-${selectedAlgorithm}`}\n                initial={{ scale: 1.3, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                transition={{ duration: 0.5, type: \"spring\" }}\n              >\n                {selectedAlgorithm === 'merge' ? 'O(n)' : 'O(1)'}\n              </motion.div>\n              <p className=\"text-sm text-gray-400 leading-relaxed\">\n                {selectedAlgorithm === 'bubble' && 'In-place sorting with only a constant amount of extra space needed.'}\n                {selectedAlgorithm === 'insertion' && 'In-place sorting requiring only constant extra memory.'}\n                {selectedAlgorithm === 'quick' && 'In-place with O(log n) stack space for recursion.'}\n                {selectedAlgorithm === 'merge' && 'Requires additional array space proportional to input size.'}\n              </p>\n            </motion.div>\n          </div>\n\n          {/* Algorithm Description */}\n          <motion.div\n            className=\"mt-6 bg-gradient-to-r from-gray-700/30 to-gray-800/30 rounded-xl p-6 border border-gray-600/30\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.6 }}\n          >\n            <h3 className=\"text-lg font-semibold text-white mb-3 flex items-center gap-2\">\n              <motion.div\n                animate={{ rotate: [0, 10, -10, 0] }}\n                transition={{ duration: 2, repeat: Infinity, repeatDelay: 3 }}\n              >\n                \ufffd\ufffd\n              </motion.div>\n              How It Works\n            </h3>\n            <p className=\"text-gray-300 leading-relaxed\">\n              {selectedAlgorithm === 'bubble' && \n                'Bubble Sort repeatedly steps through the list, compares adjacent elements and swaps them if they are in the wrong order. The pass through the list is repeated until the list is sorted. Larger elements \"bubble\" to the end with each iteration.'\n              }\n              {selectedAlgorithm === 'insertion' && \n                'Insertion Sort builds the final sorted array one item at a time. It iterates through the input, removing one element per iteration and finding the location it belongs within the sorted list, then inserting it there. Efficient for small data sets and nearly sorted arrays.'\n              }\n              {selectedAlgorithm === 'quick' && \n                'Quick Sort is a divide-and-conquer algorithm that picks a pivot element and partitions the array around it, placing smaller elements before and larger elements after. It then recursively sorts the sub-arrays. One of the fastest sorting algorithms in practice.'\n              }\n              {selectedAlgorithm === 'merge' && \n                'Merge Sort divides the array into two halves, recursively sorts them, and then merges the two sorted halves. It guarantees O(n log n) performance but requires additional memory. Stable and predictable, making it ideal for large datasets.'\n              }\n            </p>\n          </motion.div>\n\n          {/* Best Use Cases */}\n          <motion.div\n            className=\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\"\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.8 }}\n          >\n            <div className=\"bg-green-500/10 rounded-lg p-4 border border-green-400/30\">\n              <div className=\"text-green-400 font-semibold mb-2 flex items-center gap-2\">\n                <span className=\"text-xl\">\u2713</span>\n                Best For\n              </div>\n              <p className=\"text-sm text-gray-300\">\n                {selectedAlgorithm === 'bubble' && 'Small datasets, educational purposes, nearly sorted data'}\n                {selectedAlgorithm === 'insertion' && 'Small datasets, nearly sorted data, online sorting'}\n                {selectedAlgorithm === 'quick' && 'Large datasets, general-purpose sorting, in-memory sorting'}\n                {selectedAlgorithm === 'merge' && 'Large datasets, stable sorting, linked lists, external sorting'}\n              </p>\n            </div>\n\n            <div className=\"bg-yellow-500/10 rounded-lg p-4 border border-yellow-400/30\">\n              <div className=\"text-yellow-400 font-semibold mb-2 flex items-center gap-2\">\n                <span className=\"text-xl\">\u26a1</span>\n                Performance\n              </div>\n              <p className=\"text-sm text-gray-300\">\n                {selectedAlgorithm === 'bubble' && 'Slow for large datasets, many comparisons and swaps'}\n                {selectedAlgorithm === 'insertion' && 'Fast for small/nearly sorted data, adaptive algorithm'}\n                {selectedAlgorithm === 'quick' && 'Very fast average case, cache-friendly, in-place'}\n                {selectedAlgorithm === 'merge' && 'Consistent speed, predictable, parallelizable'}\n              </p>\n            </div>\n\n            <div className=\"bg-red-500/10 rounded-lg p-4 border border-red-400/30\">\n              <div className=\"text-red-400 font-semibold mb-2 flex items-center gap-2\">\n                <span className=\"text-xl\">\u26a0</span>\n                Limitations\n              </div>\n              <p className=\"text-sm text-gray-300\">\n                {selectedAlgorithm === 'bubble' && 'Inefficient for large datasets, O(n\u00b2) comparisons'}\n                {selectedAlgorithm === 'insertion' && 'Poor performance on reverse-sorted or random data'}\n                {selectedAlgorithm === 'quick' && 'Unstable sort, worst case O(n\u00b2), recursive overhead'}\n                {selectedAlgorithm === 'merge' && 'Requires O(n) extra space, not in-place'}\n              </p>\n            </div>\n          </motion.div>\n        </motion.div>\n      </div>\n    </div>\n  );\n}",
    "error": null,
    "elapsed_time": 114.44346046447754,
    "success": true
  }
}