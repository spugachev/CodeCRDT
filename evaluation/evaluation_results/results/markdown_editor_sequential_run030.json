{
  "prompt_id": "markdown_editor",
  "prompt_name": "Premium Markdown Editor",
  "mode": "sequential",
  "run_number": 30,
  "timestamp": "2025-10-14T12:41:38.549492",
  "response_time": 74.33161306381226,
  "total_tokens": null,
  "response_content": "import { useState, useEffect, useRef } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Bold, Italic, Code, List, ListOrdered, Link2, Image, Eye, EyeOff, Heading1, Heading2, Quote } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nexport default function MarkdownEditor() {\n  const [markdown, setMarkdown] = useState(`# Welcome to Premium Markdown Editor\n\n## Features\n- **Bold** and *italic* text\n- \\`Inline code\\` with syntax highlighting\n- Code blocks with VS Code styling\n- Live preview with smooth transitions\n\n### Code Example\n\n\\`\\`\\`javascript\nfunction greet(name) {\n  console.log(\\`Hello, \\${name}!\\`);\n  return true;\n}\n\nconst user = \"Developer\";\ngreet(user);\n\\`\\`\\`\n\n### More Examples\n\n\\`\\`\\`typescript\ninterface User {\n  id: number;\n  name: string;\n  email: string;\n}\n\nconst users: User[] = [\n  { id: 1, name: \"Alice\", email: \"alice@example.com\" },\n  { id: 2, name: \"Bob\", email: \"bob@example.com\" }\n];\n\\`\\`\\`\n\n> This is a blockquote with **bold** text\n\n1. First ordered item\n2. Second ordered item\n3. Third ordered item\n\n- Unordered list item\n- Another item\n- And another\n\n[Link to example](https://example.com)\n\n![Image alt text](https://via.placeholder.com/400x200)\n`);\n  const [showPreview, setShowPreview] = useState(true);\n  const [cursorPosition, setCursorPosition] = useState(0);\n  const [showToolbar, setShowToolbar] = useState(false);\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const editorRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      if (textareaRef.current && textareaRef.current.scrollTop > 50) {\n        setShowToolbar(true);\n      } else {\n        setShowToolbar(false);\n      }\n    };\n\n    const textarea = textareaRef.current;\n    textarea?.addEventListener('scroll', handleScroll);\n    return () => textarea?.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const insertMarkdown = (before: string, after: string = '') => {\n    const textarea = textareaRef.current;\n    if (!textarea) return;\n\n    const start = textarea.selectionStart;\n    const end = textarea.selectionEnd;\n    const selectedText = markdown.substring(start, end);\n    const newText = markdown.substring(0, start) + before + selectedText + after + markdown.substring(end);\n    \n    setMarkdown(newText);\n    \n    setTimeout(() => {\n      textarea.focus();\n      textarea.setSelectionRange(start + before.length, start + before.length + selectedText.length);\n    }, 0);\n  };\n\n  const parseMarkdown = (text: string): string => {\n    let html = text;\n\n    // Code blocks with syntax highlighting\n    html = html.replace(/```(\\w+)?\\n([\\s\\S]*?)```/g, (match, lang, code) => {\n      const highlighted = highlightCode(code.trim(), lang || 'javascript');\n      return `<pre class=\"code-block\"><code class=\"language-${lang || 'javascript'}\">${highlighted}</code></pre>`;\n    });\n\n    // Inline code\n    html = html.replace(/`([^`]+)`/g, '<code class=\"inline-code\">$1</code>');\n\n    // Headers\n    html = html.replace(/^### (.*$)/gim, '<h3>$1</h3>');\n    html = html.replace(/^## (.*$)/gim, '<h2>$1</h2>');\n    html = html.replace(/^# (.*$)/gim, '<h1>$1</h1>');\n\n    // Bold\n    html = html.replace(/\\*\\*(.+?)\\*\\*/g, '<strong>$1</strong>');\n\n    // Italic\n    html = html.replace(/\\*(.+?)\\*/g, '<em>$1</em>');\n\n    // Blockquotes\n    html = html.replace(/^> (.*$)/gim, '<blockquote>$1</blockquote>');\n\n    // Ordered lists\n    html = html.replace(/^\\d+\\.\\s(.*)$/gim, '<li class=\"ordered\">$1</li>');\n    html = html.replace(/(<li class=\"ordered\">.*<\\/li>)/s, '<ol>$1</ol>');\n\n    // Unordered lists\n    html = html.replace(/^[-*]\\s(.*)$/gim, '<li class=\"unordered\">$1</li>');\n    html = html.replace(/(<li class=\"unordered\">.*<\\/li>)/s, '<ul>$1</ul>');\n\n    // Links\n    html = html.replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, '<a href=\"$2\" target=\"_blank\" rel=\"noopener noreferrer\">$1</a>');\n\n    // Images\n    html = html.replace(/!\\[([^\\]]*)\\]\\(([^)]+)\\)/g, '<img src=\"$2\" alt=\"$1\" />');\n\n    // Line breaks\n    html = html.replace(/\\n/g, '<br />');\n\n    return html;\n  };\n\n  const highlightCode = (code: string, lang: string): string => {\n    const keywords = ['function', 'const', 'let', 'var', 'return', 'if', 'else', 'for', 'while', 'class', 'interface', 'type', 'import', 'export', 'default', 'async', 'await', 'new', 'this', 'extends', 'implements'];\n    const types = ['string', 'number', 'boolean', 'void', 'any', 'unknown', 'never', 'User', 'Array'];\n    \n    let highlighted = code;\n\n    // Comments\n    highlighted = highlighted.replace(/(\\/\\/.*$)/gm, '<span class=\"token-comment\">$1</span>');\n    highlighted = highlighted.replace(/(\\/\\*[\\s\\S]*?\\*\\/)/g, '<span class=\"token-comment\">$1</span>');\n\n    // Strings\n    highlighted = highlighted.replace(/(\".*?\"|'.*?'|`.*?`)/g, '<span class=\"token-string\">$1</span>');\n\n    // Numbers\n    highlighted = highlighted.replace(/\\b(\\d+)\\b/g, '<span class=\"token-number\">$1</span>');\n\n    // Keywords\n    keywords.forEach(keyword => {\n      const regex = new RegExp(`\\\\b(${keyword})\\\\b`, 'g');\n      highlighted = highlighted.replace(regex, '<span class=\"token-keyword\">$1</span>');\n    });\n\n    // Types\n    types.forEach(type => {\n      const regex = new RegExp(`\\\\b(${type})\\\\b`, 'g');\n      highlighted = highlighted.replace(regex, '<span class=\"token-type\">$1</span>');\n    });\n\n    // Functions\n    highlighted = highlighted.replace(/\\b([a-zA-Z_]\\w*)\\s*\\(/g, '<span class=\"token-function\">$1</span>(');\n\n    return highlighted;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#0d1117] text-gray-100\">\n      <div className=\"max-w-[1800px] mx-auto p-6\">\n        <div className=\"mb-6 flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent\">\n              Premium Markdown Editor\n            </h1>\n            <p className=\"text-gray-400 mt-1\">Write with style, preview in real-time</p>\n          </div>\n          <Button\n            onClick={() => setShowPreview(!showPreview)}\n            className=\"bg-[#21262d] hover:bg-[#30363d] text-gray-100 border border-[#30363d]\"\n          >\n            {showPreview ? <EyeOff className=\"w-4 h-4 mr-2\" /> : <Eye className=\"w-4 h-4 mr-2\" />}\n            {showPreview ? 'Hide Preview' : 'Show Preview'}\n          </Button>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* Editor Section */}\n          <div className=\"relative\">\n            <AnimatePresence>\n              {showToolbar && (\n                <motion.div\n                  initial={{ opacity: 0, y: -20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  exit={{ opacity: 0, y: -20 }}\n                  className=\"absolute top-4 left-4 right-4 z-10 bg-[#161b22] border border-[#30363d] rounded-lg shadow-2xl p-2 flex items-center gap-1 flex-wrap\"\n                >\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('**', '**')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Bold\"\n                  >\n                    <Bold className=\"w-4 h-4\" />\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('*', '*')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Italic\"\n                  >\n                    <Italic className=\"w-4 h-4\" />\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('`', '`')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Inline Code\"\n                  >\n                    <Code className=\"w-4 h-4\" />\n                  </Button>\n                  <div className=\"w-px h-6 bg-[#30363d] mx-1\" />\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('# ', '')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Heading 1\"\n                  >\n                    <Heading1 className=\"w-4 h-4\" />\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('## ', '')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Heading 2\"\n                  >\n                    <Heading2 className=\"w-4 h-4\" />\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('> ', '')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Quote\"\n                  >\n                    <Quote className=\"w-4 h-4\" />\n                  </Button>\n                  <div className=\"w-px h-6 bg-[#30363d] mx-1\" />\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('- ', '')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Unordered List\"\n                  >\n                    <List className=\"w-4 h-4\" />\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('1. ', '')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Ordered List\"\n                  >\n                    <ListOrdered className=\"w-4 h-4\" />\n                  </Button>\n                  <div className=\"w-px h-6 bg-[#30363d] mx-1\" />\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('[', '](url)')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Link\"\n                  >\n                    <Link2 className=\"w-4 h-4\" />\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('![alt](', ')')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Image\"\n                  >\n                    <Image className=\"w-4 h-4\" />\n                  </Button>\n                </motion.div>\n              )}\n            </AnimatePresence>\n\n            <div className=\"bg-[#0d1117] border border-[#30363d] rounded-lg overflow-hidden shadow-2xl\">\n              <div className=\"bg-[#161b22] border-b border-[#30363d] px-4 py-3 flex items-center justify-between\">\n                <span className=\"text-sm font-medium text-gray-300\">Editor</span>\n                <div className=\"flex gap-2\">\n                  <div className=\"w-3 h-3 rounded-full bg-[#ff5f56]\" />\n                  <div className=\"w-3 h-3 rounded-full bg-[#ffbd2e]\" />\n                  <div className=\"w-3 h-3 rounded-full bg-[#27c93f]\" />\n                </div>\n              </div>\n              <textarea\n                ref={textareaRef}\n                value={markdown}\n                onChange={(e) => setMarkdown(e.target.value)}\n                onSelect={(e) => setCursorPosition(e.currentTarget.selectionStart)}\n                className=\"w-full h-[calc(100vh-280px)] bg-[#0d1117] text-gray-100 p-6 font-mono text-sm resize-none focus:outline-none leading-relaxed\"\n                placeholder=\"Start writing your markdown here...\"\n                spellCheck={false}\n              />\n              <div className=\"bg-[#161b22] border-t border-[#30363d] px-4 py-2 flex items-center justify-between text-xs text-gray-400\">\n                <span>Lines: {markdown.split('\\n').length}</span>\n                <span>Characters: {markdown.length}</span>\n                <span>Position: {cursorPosition}</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Preview Section */}\n          <AnimatePresence mode=\"wait\">\n            {showPreview && (\n              <motion.div\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: 20 }}\n                transition={{ duration: 0.3 }}\n                className=\"bg-[#0d1117] border border-[#30363d] rounded-lg overflow-hidden shadow-2xl\"\n              >\n                <div className=\"bg-[#161b22] border-b border-[#30363d] px-4 py-3 flex items-center justify-between\">\n                  <span className=\"text-sm font-medium text-gray-300\">Preview</span>\n                  <div className=\"flex gap-2\">\n                    <div className=\"w-3 h-3 rounded-full bg-[#ff5f56]\" />\n                    <div className=\"w-3 h-3 rounded-full bg-[#ffbd2e]\" />\n                    <div className=\"w-3 h-3 rounded-full bg-[#27c93f]\" />\n                  </div>\n                </div>\n                <motion.div\n                  key={markdown}\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  transition={{ duration: 0.2 }}\n                  className=\"p-6 h-[calc(100vh-280px)] overflow-y-auto markdown-preview\"\n                  dangerouslySetInnerHTML={{ __html: parseMarkdown(markdown) }}\n                />\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </div>\n      </div>\n\n      <style jsx global>{`\n        .markdown-preview h1 {\n          font-size: 2.5rem;\n          font-weight: 700;\n          margin-bottom: 1.5rem;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          background-clip: text;\n          line-height: 1.2;\n        }\n\n        .markdown-preview h2 {\n          font-size: 2rem;\n          font-weight: 600;\n          margin-top: 2rem;\n          margin-bottom: 1rem;\n          color: #58a6ff;\n          border-bottom: 2px solid #21262d;\n          padding-bottom: 0.5rem;\n        }\n\n        .markdown-preview h3 {\n          font-size: 1.5rem;\n          font-weight: 600;\n          margin-top: 1.5rem;\n          margin-bottom: 0.75rem;\n          color: #79c0ff;\n        }\n\n        .markdown-preview p {\n          margin-bottom: 1rem;\n          line-height: 1.7;\n          color: #c9d1d9;\n        }\n\n        .markdown-preview strong {\n          font-weight: 600;\n          color: #ffa657;\n        }\n\n        .markdown-preview em {\n          font-style: italic;\n          color: #a5d6ff;\n        }\n\n        .markdown-preview code.inline-code {\n          background: #161b22;\n          color: #ff7b72;\n          padding: 0.2rem 0.4rem;\n          border-radius: 0.25rem;\n          font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n          font-size: 0.9em;\n          border: 1px solid #30363d;\n        }\n\n        .markdown-preview pre.code-block {\n          background: #161b22;\n          border: 1px solid #30363d;\n          border-radius: 0.5rem;\n          padding: 1.5rem;\n          margin: 1.5rem 0;\n          overflow-x: auto;\n          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);\n        }\n\n        .markdown-preview pre.code-block code {\n          font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n          font-size: 0.9rem;\n          line-height: 1.6;\n          color: #c9d1d9;\n        }\n\n        .markdown-preview .token-keyword {\n          color: #ff7b72;\n          font-weight: 500;\n        }\n\n        .markdown-preview .token-function {\n          color: #d2a8ff;\n          font-weight: 500;\n        }\n\n        .markdown-preview .token-string {\n          color: #a5d6ff;\n        }\n\n        .markdown-preview .token-number {\n          color: #79c0ff;\n        }\n\n        .markdown-preview .token-comment {\n          color: #8b949e;\n          font-style: italic;\n        }\n\n        .markdown-preview .token-type {\n          color: #ffa657;\n          font-weight: 500;\n        }\n\n        .markdown-preview blockquote {\n          border-left: 4px solid #58a6ff;\n          padding-left: 1rem;\n          margin: 1.5rem 0;\n          color: #8b949e;\n          font-style: italic;\n          background: #161b22;\n          padding: 1rem;\n          border-radius: 0.25rem;\n        }\n\n        .markdown-preview ul {\n          list-style: none;\n          margin: 1rem 0;\n          padding-left: 0;\n        }\n\n        .markdown-preview ul li.unordered {\n          position: relative;\n          padding-left: 1.5rem;\n          margin-bottom: 0.5rem;\n          color: #c9d1d9;\n        }\n\n        .markdown-preview ul li.unordered::before {\n          content: \"\u25cf\";\n          position: absolute;\n          left: 0;\n          color: #58a6ff;\n          font-weight: bold;\n        }\n\n        .markdown-preview ol {\n          list-style: none;\n          counter-reset: item;\n          margin: 1rem 0;\n          padding-left: 0;\n        }\n\n        .markdown-preview ol li.ordered {\n          position: relative;\n          padding-left: 1.5rem;\n          margin-bottom: 0.5rem;\n          counter-increment: item;\n          color: #c9d1d9;\n        }\n\n        .markdown-preview ol li.ordered::before {\n          content: counter(item) \".\";\n          position: absolute;\n          left: 0;\n          color: #58a6ff;\n          font-weight: bold;\n        }\n\n        .markdown-preview a {\n          color: #58a6ff;\n          text-decoration: none;\n          border-bottom: 1px solid transparent;\n          transition: all 0.2s;\n        }\n\n        .markdown-preview a:hover {\n          border-bottom-color: #58a6ff;\n          color: #79c0ff;\n        }\n\n        .markdown-preview img {\n          max-width: 100%;\n          border-radius: 0.5rem;\n          margin: 1.5rem 0;\n          border: 1px solid #30363d;\n          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);\n        }\n\n        .markdown-preview br {\n          display: block;\n          content: \"\";\n          margin-top: 0.5rem;\n        }\n\n        /* Scrollbar styling */\n        .markdown-preview::-webkit-scrollbar,\n        textarea::-webkit-scrollbar {\n          width: 12px;\n        }\n\n        .markdown-preview::-webkit-scrollbar-track,\n        textarea::-webkit-scrollbar-track {\n          background: #0d1117;\n        }\n\n        .markdown-preview::-webkit-scrollbar-thumb,\n        textarea::-webkit-scrollbar-thumb {\n          background: #30363d;\n          border-radius: 6px;\n          border: 2px solid #0d1117;\n        }\n\n        .markdown-preview::-webkit-scrollbar-thumb:hover,\n        textarea::-webkit-scrollbar-thumb:hover {\n          background: #484f58;\n        }\n      `}</style>\n    </div>\n  );\n}",
  "error": null,
  "overall_score": 49,
  "code_quality_score": 15,
  "architecture_score": 12,
  "performance_score": 8,
  "accessibility_score": 14,
  "metadata": {
    "document_id": "eval_room_f01caef3faa1",
    "prompt_category": "productivity",
    "prompt_complexity": 8.0
  },
  "raw_response": {
    "document_id": "eval_room_f01caef3faa1",
    "mode": "sequential",
    "prompt": "Create a premium markdown editor with dark theme, syntax highlighting with vibrant colors, smooth live preview transitions, floating toolbar with hover effects, and code block styling like VS Code",
    "content": "import { useState, useEffect, useRef } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Bold, Italic, Code, List, ListOrdered, Link2, Image, Eye, EyeOff, Heading1, Heading2, Quote } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\n\nexport default function MarkdownEditor() {\n  const [markdown, setMarkdown] = useState(`# Welcome to Premium Markdown Editor\n\n## Features\n- **Bold** and *italic* text\n- \\`Inline code\\` with syntax highlighting\n- Code blocks with VS Code styling\n- Live preview with smooth transitions\n\n### Code Example\n\n\\`\\`\\`javascript\nfunction greet(name) {\n  console.log(\\`Hello, \\${name}!\\`);\n  return true;\n}\n\nconst user = \"Developer\";\ngreet(user);\n\\`\\`\\`\n\n### More Examples\n\n\\`\\`\\`typescript\ninterface User {\n  id: number;\n  name: string;\n  email: string;\n}\n\nconst users: User[] = [\n  { id: 1, name: \"Alice\", email: \"alice@example.com\" },\n  { id: 2, name: \"Bob\", email: \"bob@example.com\" }\n];\n\\`\\`\\`\n\n> This is a blockquote with **bold** text\n\n1. First ordered item\n2. Second ordered item\n3. Third ordered item\n\n- Unordered list item\n- Another item\n- And another\n\n[Link to example](https://example.com)\n\n![Image alt text](https://via.placeholder.com/400x200)\n`);\n  const [showPreview, setShowPreview] = useState(true);\n  const [cursorPosition, setCursorPosition] = useState(0);\n  const [showToolbar, setShowToolbar] = useState(false);\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const editorRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      if (textareaRef.current && textareaRef.current.scrollTop > 50) {\n        setShowToolbar(true);\n      } else {\n        setShowToolbar(false);\n      }\n    };\n\n    const textarea = textareaRef.current;\n    textarea?.addEventListener('scroll', handleScroll);\n    return () => textarea?.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const insertMarkdown = (before: string, after: string = '') => {\n    const textarea = textareaRef.current;\n    if (!textarea) return;\n\n    const start = textarea.selectionStart;\n    const end = textarea.selectionEnd;\n    const selectedText = markdown.substring(start, end);\n    const newText = markdown.substring(0, start) + before + selectedText + after + markdown.substring(end);\n    \n    setMarkdown(newText);\n    \n    setTimeout(() => {\n      textarea.focus();\n      textarea.setSelectionRange(start + before.length, start + before.length + selectedText.length);\n    }, 0);\n  };\n\n  const parseMarkdown = (text: string): string => {\n    let html = text;\n\n    // Code blocks with syntax highlighting\n    html = html.replace(/```(\\w+)?\\n([\\s\\S]*?)```/g, (match, lang, code) => {\n      const highlighted = highlightCode(code.trim(), lang || 'javascript');\n      return `<pre class=\"code-block\"><code class=\"language-${lang || 'javascript'}\">${highlighted}</code></pre>`;\n    });\n\n    // Inline code\n    html = html.replace(/`([^`]+)`/g, '<code class=\"inline-code\">$1</code>');\n\n    // Headers\n    html = html.replace(/^### (.*$)/gim, '<h3>$1</h3>');\n    html = html.replace(/^## (.*$)/gim, '<h2>$1</h2>');\n    html = html.replace(/^# (.*$)/gim, '<h1>$1</h1>');\n\n    // Bold\n    html = html.replace(/\\*\\*(.+?)\\*\\*/g, '<strong>$1</strong>');\n\n    // Italic\n    html = html.replace(/\\*(.+?)\\*/g, '<em>$1</em>');\n\n    // Blockquotes\n    html = html.replace(/^> (.*$)/gim, '<blockquote>$1</blockquote>');\n\n    // Ordered lists\n    html = html.replace(/^\\d+\\.\\s(.*)$/gim, '<li class=\"ordered\">$1</li>');\n    html = html.replace(/(<li class=\"ordered\">.*<\\/li>)/s, '<ol>$1</ol>');\n\n    // Unordered lists\n    html = html.replace(/^[-*]\\s(.*)$/gim, '<li class=\"unordered\">$1</li>');\n    html = html.replace(/(<li class=\"unordered\">.*<\\/li>)/s, '<ul>$1</ul>');\n\n    // Links\n    html = html.replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, '<a href=\"$2\" target=\"_blank\" rel=\"noopener noreferrer\">$1</a>');\n\n    // Images\n    html = html.replace(/!\\[([^\\]]*)\\]\\(([^)]+)\\)/g, '<img src=\"$2\" alt=\"$1\" />');\n\n    // Line breaks\n    html = html.replace(/\\n/g, '<br />');\n\n    return html;\n  };\n\n  const highlightCode = (code: string, lang: string): string => {\n    const keywords = ['function', 'const', 'let', 'var', 'return', 'if', 'else', 'for', 'while', 'class', 'interface', 'type', 'import', 'export', 'default', 'async', 'await', 'new', 'this', 'extends', 'implements'];\n    const types = ['string', 'number', 'boolean', 'void', 'any', 'unknown', 'never', 'User', 'Array'];\n    \n    let highlighted = code;\n\n    // Comments\n    highlighted = highlighted.replace(/(\\/\\/.*$)/gm, '<span class=\"token-comment\">$1</span>');\n    highlighted = highlighted.replace(/(\\/\\*[\\s\\S]*?\\*\\/)/g, '<span class=\"token-comment\">$1</span>');\n\n    // Strings\n    highlighted = highlighted.replace(/(\".*?\"|'.*?'|`.*?`)/g, '<span class=\"token-string\">$1</span>');\n\n    // Numbers\n    highlighted = highlighted.replace(/\\b(\\d+)\\b/g, '<span class=\"token-number\">$1</span>');\n\n    // Keywords\n    keywords.forEach(keyword => {\n      const regex = new RegExp(`\\\\b(${keyword})\\\\b`, 'g');\n      highlighted = highlighted.replace(regex, '<span class=\"token-keyword\">$1</span>');\n    });\n\n    // Types\n    types.forEach(type => {\n      const regex = new RegExp(`\\\\b(${type})\\\\b`, 'g');\n      highlighted = highlighted.replace(regex, '<span class=\"token-type\">$1</span>');\n    });\n\n    // Functions\n    highlighted = highlighted.replace(/\\b([a-zA-Z_]\\w*)\\s*\\(/g, '<span class=\"token-function\">$1</span>(');\n\n    return highlighted;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#0d1117] text-gray-100\">\n      <div className=\"max-w-[1800px] mx-auto p-6\">\n        <div className=\"mb-6 flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent\">\n              Premium Markdown Editor\n            </h1>\n            <p className=\"text-gray-400 mt-1\">Write with style, preview in real-time</p>\n          </div>\n          <Button\n            onClick={() => setShowPreview(!showPreview)}\n            className=\"bg-[#21262d] hover:bg-[#30363d] text-gray-100 border border-[#30363d]\"\n          >\n            {showPreview ? <EyeOff className=\"w-4 h-4 mr-2\" /> : <Eye className=\"w-4 h-4 mr-2\" />}\n            {showPreview ? 'Hide Preview' : 'Show Preview'}\n          </Button>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* Editor Section */}\n          <div className=\"relative\">\n            <AnimatePresence>\n              {showToolbar && (\n                <motion.div\n                  initial={{ opacity: 0, y: -20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  exit={{ opacity: 0, y: -20 }}\n                  className=\"absolute top-4 left-4 right-4 z-10 bg-[#161b22] border border-[#30363d] rounded-lg shadow-2xl p-2 flex items-center gap-1 flex-wrap\"\n                >\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('**', '**')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Bold\"\n                  >\n                    <Bold className=\"w-4 h-4\" />\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('*', '*')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Italic\"\n                  >\n                    <Italic className=\"w-4 h-4\" />\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('`', '`')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Inline Code\"\n                  >\n                    <Code className=\"w-4 h-4\" />\n                  </Button>\n                  <div className=\"w-px h-6 bg-[#30363d] mx-1\" />\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('# ', '')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Heading 1\"\n                  >\n                    <Heading1 className=\"w-4 h-4\" />\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('## ', '')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Heading 2\"\n                  >\n                    <Heading2 className=\"w-4 h-4\" />\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('> ', '')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Quote\"\n                  >\n                    <Quote className=\"w-4 h-4\" />\n                  </Button>\n                  <div className=\"w-px h-6 bg-[#30363d] mx-1\" />\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('- ', '')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Unordered List\"\n                  >\n                    <List className=\"w-4 h-4\" />\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('1. ', '')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Ordered List\"\n                  >\n                    <ListOrdered className=\"w-4 h-4\" />\n                  </Button>\n                  <div className=\"w-px h-6 bg-[#30363d] mx-1\" />\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('[', '](url)')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Link\"\n                  >\n                    <Link2 className=\"w-4 h-4\" />\n                  </Button>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => insertMarkdown('![alt](', ')')}\n                    className=\"bg-transparent hover:bg-[#21262d] text-gray-300 h-8 w-8 p-0\"\n                    title=\"Image\"\n                  >\n                    <Image className=\"w-4 h-4\" />\n                  </Button>\n                </motion.div>\n              )}\n            </AnimatePresence>\n\n            <div className=\"bg-[#0d1117] border border-[#30363d] rounded-lg overflow-hidden shadow-2xl\">\n              <div className=\"bg-[#161b22] border-b border-[#30363d] px-4 py-3 flex items-center justify-between\">\n                <span className=\"text-sm font-medium text-gray-300\">Editor</span>\n                <div className=\"flex gap-2\">\n                  <div className=\"w-3 h-3 rounded-full bg-[#ff5f56]\" />\n                  <div className=\"w-3 h-3 rounded-full bg-[#ffbd2e]\" />\n                  <div className=\"w-3 h-3 rounded-full bg-[#27c93f]\" />\n                </div>\n              </div>\n              <textarea\n                ref={textareaRef}\n                value={markdown}\n                onChange={(e) => setMarkdown(e.target.value)}\n                onSelect={(e) => setCursorPosition(e.currentTarget.selectionStart)}\n                className=\"w-full h-[calc(100vh-280px)] bg-[#0d1117] text-gray-100 p-6 font-mono text-sm resize-none focus:outline-none leading-relaxed\"\n                placeholder=\"Start writing your markdown here...\"\n                spellCheck={false}\n              />\n              <div className=\"bg-[#161b22] border-t border-[#30363d] px-4 py-2 flex items-center justify-between text-xs text-gray-400\">\n                <span>Lines: {markdown.split('\\n').length}</span>\n                <span>Characters: {markdown.length}</span>\n                <span>Position: {cursorPosition}</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Preview Section */}\n          <AnimatePresence mode=\"wait\">\n            {showPreview && (\n              <motion.div\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                exit={{ opacity: 0, x: 20 }}\n                transition={{ duration: 0.3 }}\n                className=\"bg-[#0d1117] border border-[#30363d] rounded-lg overflow-hidden shadow-2xl\"\n              >\n                <div className=\"bg-[#161b22] border-b border-[#30363d] px-4 py-3 flex items-center justify-between\">\n                  <span className=\"text-sm font-medium text-gray-300\">Preview</span>\n                  <div className=\"flex gap-2\">\n                    <div className=\"w-3 h-3 rounded-full bg-[#ff5f56]\" />\n                    <div className=\"w-3 h-3 rounded-full bg-[#ffbd2e]\" />\n                    <div className=\"w-3 h-3 rounded-full bg-[#27c93f]\" />\n                  </div>\n                </div>\n                <motion.div\n                  key={markdown}\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  transition={{ duration: 0.2 }}\n                  className=\"p-6 h-[calc(100vh-280px)] overflow-y-auto markdown-preview\"\n                  dangerouslySetInnerHTML={{ __html: parseMarkdown(markdown) }}\n                />\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </div>\n      </div>\n\n      <style jsx global>{`\n        .markdown-preview h1 {\n          font-size: 2.5rem;\n          font-weight: 700;\n          margin-bottom: 1.5rem;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          background-clip: text;\n          line-height: 1.2;\n        }\n\n        .markdown-preview h2 {\n          font-size: 2rem;\n          font-weight: 600;\n          margin-top: 2rem;\n          margin-bottom: 1rem;\n          color: #58a6ff;\n          border-bottom: 2px solid #21262d;\n          padding-bottom: 0.5rem;\n        }\n\n        .markdown-preview h3 {\n          font-size: 1.5rem;\n          font-weight: 600;\n          margin-top: 1.5rem;\n          margin-bottom: 0.75rem;\n          color: #79c0ff;\n        }\n\n        .markdown-preview p {\n          margin-bottom: 1rem;\n          line-height: 1.7;\n          color: #c9d1d9;\n        }\n\n        .markdown-preview strong {\n          font-weight: 600;\n          color: #ffa657;\n        }\n\n        .markdown-preview em {\n          font-style: italic;\n          color: #a5d6ff;\n        }\n\n        .markdown-preview code.inline-code {\n          background: #161b22;\n          color: #ff7b72;\n          padding: 0.2rem 0.4rem;\n          border-radius: 0.25rem;\n          font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n          font-size: 0.9em;\n          border: 1px solid #30363d;\n        }\n\n        .markdown-preview pre.code-block {\n          background: #161b22;\n          border: 1px solid #30363d;\n          border-radius: 0.5rem;\n          padding: 1.5rem;\n          margin: 1.5rem 0;\n          overflow-x: auto;\n          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);\n        }\n\n        .markdown-preview pre.code-block code {\n          font-family: 'Consolas', 'Monaco', 'Courier New', monospace;\n          font-size: 0.9rem;\n          line-height: 1.6;\n          color: #c9d1d9;\n        }\n\n        .markdown-preview .token-keyword {\n          color: #ff7b72;\n          font-weight: 500;\n        }\n\n        .markdown-preview .token-function {\n          color: #d2a8ff;\n          font-weight: 500;\n        }\n\n        .markdown-preview .token-string {\n          color: #a5d6ff;\n        }\n\n        .markdown-preview .token-number {\n          color: #79c0ff;\n        }\n\n        .markdown-preview .token-comment {\n          color: #8b949e;\n          font-style: italic;\n        }\n\n        .markdown-preview .token-type {\n          color: #ffa657;\n          font-weight: 500;\n        }\n\n        .markdown-preview blockquote {\n          border-left: 4px solid #58a6ff;\n          padding-left: 1rem;\n          margin: 1.5rem 0;\n          color: #8b949e;\n          font-style: italic;\n          background: #161b22;\n          padding: 1rem;\n          border-radius: 0.25rem;\n        }\n\n        .markdown-preview ul {\n          list-style: none;\n          margin: 1rem 0;\n          padding-left: 0;\n        }\n\n        .markdown-preview ul li.unordered {\n          position: relative;\n          padding-left: 1.5rem;\n          margin-bottom: 0.5rem;\n          color: #c9d1d9;\n        }\n\n        .markdown-preview ul li.unordered::before {\n          content: \"\u25cf\";\n          position: absolute;\n          left: 0;\n          color: #58a6ff;\n          font-weight: bold;\n        }\n\n        .markdown-preview ol {\n          list-style: none;\n          counter-reset: item;\n          margin: 1rem 0;\n          padding-left: 0;\n        }\n\n        .markdown-preview ol li.ordered {\n          position: relative;\n          padding-left: 1.5rem;\n          margin-bottom: 0.5rem;\n          counter-increment: item;\n          color: #c9d1d9;\n        }\n\n        .markdown-preview ol li.ordered::before {\n          content: counter(item) \".\";\n          position: absolute;\n          left: 0;\n          color: #58a6ff;\n          font-weight: bold;\n        }\n\n        .markdown-preview a {\n          color: #58a6ff;\n          text-decoration: none;\n          border-bottom: 1px solid transparent;\n          transition: all 0.2s;\n        }\n\n        .markdown-preview a:hover {\n          border-bottom-color: #58a6ff;\n          color: #79c0ff;\n        }\n\n        .markdown-preview img {\n          max-width: 100%;\n          border-radius: 0.5rem;\n          margin: 1.5rem 0;\n          border: 1px solid #30363d;\n          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);\n        }\n\n        .markdown-preview br {\n          display: block;\n          content: \"\";\n          margin-top: 0.5rem;\n        }\n\n        /* Scrollbar styling */\n        .markdown-preview::-webkit-scrollbar,\n        textarea::-webkit-scrollbar {\n          width: 12px;\n        }\n\n        .markdown-preview::-webkit-scrollbar-track,\n        textarea::-webkit-scrollbar-track {\n          background: #0d1117;\n        }\n\n        .markdown-preview::-webkit-scrollbar-thumb,\n        textarea::-webkit-scrollbar-thumb {\n          background: #30363d;\n          border-radius: 6px;\n          border: 2px solid #0d1117;\n        }\n\n        .markdown-preview::-webkit-scrollbar-thumb:hover,\n        textarea::-webkit-scrollbar-thumb:hover {\n          background: #484f58;\n        }\n      `}</style>\n    </div>\n  );\n}",
    "error": null,
    "elapsed_time": 74.33161306381226,
    "success": true
  }
}